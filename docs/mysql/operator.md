---
sidebar: auto
---

# 运算符

## 算数运算符

| 运算符   | 说明                                                                                                                                                                                                                        |
| -------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| +        | 正常数字运算： 10 + 10 = 20<br />数字 + 字符串： 10 + '10' = 20 (在 js 中则是 1010)<br />整数 + 浮点数（小数）: 10 + 0.20 = 10.20 有几位小数得到就是几位小数<br />整数 + null: 10 + null = null 任何数与 null 运算都为 null |
| -        | 与加号表现一致                                                                                                                                                                                                              |
| \*       | 与加号表现一致                                                                                                                                                                                                              |
| / 或 div | 任何两个数相处，结果都是浮点数<br />如果除数是 0，那么结果是 null<br />其余的与加号表现一致                                                                                                                                 |
| % 或 mod | 取模，模结果的正负与被模的一致                                                                                                                                                                                              |

## 比较运算符

比较运算符用来对表达式左右两边的操作数进行比较，结果为真返回 1，结果为假返回 0，其他情况返回 0

| 运算符   | 名称           | 作用                                                             |
| -------- | -------------- | ---------------------------------------------------------------- |
| =        | 等于运算符     | 判断两个值、字符换或者表达式是否相等                             |
| <=>      | 安全等于运算符 | 安全判断两个值、字符换或者表达式是否相等，专为 NULL 而生         |
| <> 或 != | 不等于运算符   | 判断两个是是否不相等                                             |
| <        | 小于运算符     | 判断前面的值、字符换或者表达式是否小于后面的值、字符换或者表达式 |
| >        | 大于运算符     | ...                                                              |
| <=       | 小于等于运算符 | ...                                                              |
| =>       | 大于等于运算符 | ...                                                              |

注意：

1. 字符串和数字进行比较时，字符串会隐式转换为数字，如果不是数字的字符串则转为 0。
2. 字符串比较时，会比较他们的 ANSI。
3. 只要有 NULL 参与运算结果就是 NULL，除了使用`<=>`进行条件查询。条件查询的时候如果有 `值 = NULL`的情况，那么结果为空，因为这样的条件查询的时候，只有比较结果是`1`的才会被查询回来，NULL 参与运算都是 NULL 所以什么都查不回来。
4. 如果使用`<=>`运算时，如果又一边是 NULL，那么结果为 0，如果两边都是 NULL 那么结果为 1

## 关键字比较运算符

| 运算符           | 名称             | 作用                                                                                                    | 语法                                                          |
| ---------------- | ---------------- | ------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------- |
| IS NULL          | 为空运算符       | 判断是不是为空值（NULL）                                                                                | SELECT 字段 FROM 表名 WHERE 字段 IS NULL;                     |
| IS NOT NULL      | 不为空运算符     | 判断是不是不为空值（NULL）                                                                              | SELECT 字段 FROM 表名 WHERE 字段 IS NOT NULL;                 |
| LEAST            | 最小值运算符     | 在多个值中返回最小值                                                                                    | SELECT LEAST(字段,字段) FROM 表名;                            |
| GREATEST         | 最大值运算符     | 在多个值中返回最大值                                                                                    | SELECT GREATEST(字段,字段) FROM 表名;                         |
| BETWEEN...AND... | 两值之间的运算符 | 判断一个值是不是在两个条件之间，结果包含这两个条件                                                      | SELECT 字段 FROM 表名 WHERE 字段 BETWEEN 条件 1 AND 条件 2;   |
| ISNULL           | 为空运算符       | 判断是不是为空值（NULL）                                                                                | SELECT 字段 FROM 表名 WHERE ISNULL(字段);                     |
| IN               | 属于运算符       | 判断一个值是否为列表中的任意一个值，也就是 IN 后面枚举了一些值，查询的值是不是等于后面枚举的值          | SELECT 字段 FROM 表名 WHERE 字段 IN (枚举值 1，枚举值 2);     |
| NOT IN           | 不属于运算符     | 判断一个值是否不是列表中的任意一个值。也就是 NOTIN 后面枚举了一些值，查询的值是不是`不`等于后面枚举的值 | SELECT 字段 FROM 表名 WHERE 字段 NOT IN (枚举值 1，枚举值 2); |
| LIKE             | 模糊匹配运算符   | 判断一个值是否负荷而模糊匹配的规则                                                                      | SELECT 字段 FROM 表名 WHERE 字段 LIKE '\_a%';                 |
| REGEXP           | 正则表达式运算符 | 判断一个值是否符合正则的条件                                                                            | 感兴趣再补充                                                  |
| PLIKE            | 正则表达式元素符 | 判断一个值是否符合正则的条件                                                                            | 感兴趣再补充                                                  |

LIKE 使用说明：

1. `%`表示不确定的字符数，`_`表示一个字符。

2. 要查询包含 a 的字段：

   ```sql
   SELECT name FROM emp WHERE name LIKE '%a%';
   ```

3. 要查询第二个字段为 a 的字段：

   ```sql
   # 使用一个 _ 去占位
   SELECT name FROM emp WHERE name LIKE '_a%';
   ```

4. 查询同时包含 a 和 b 的字段

   ```sql
   # 这样虽然能够查到同时包含 a 和 b 的字段，但是这样只能查到 a 在前 b 在后的。
   SELECT name FROM emp WHERE name LIKE '%a%b%';

   # 正确的做法
   SELECT name FROM emp WHERE name LIKE '%a%b%' || name LIKE '%b%a%';
   ```

5. 查询以 _ 开头的字段，使用 \ 进行转义，使 _ 不再代表一个字符，而是他本身的样子。

   ```sql
   SELECT name FROM emp WHERE name LIKE '\_%';
   ```

## 逻辑运算符

| 运算符     | 作用                                 |
| ---------- | ------------------------------------ |
| NOT 或 !   | 逻辑非                               |
| AND 或 &&  | 逻辑与                               |
| OR 或 \|\| | 逻辑或                               |
| XOR        | 逻辑异或，就是必须一边为真另一边为假 |

优先级：OR 和 AND 可以一起使用，但是 AND 的优先级要高于 OR。
