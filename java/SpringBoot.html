<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.67">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>SpringBoot | 学海无涯，苦乐自知。</title><meta name="description" content="ldlang-note">
    <link rel="preload" href="/lin-note/assets/style-c9ac8601.css" as="style"><link rel="stylesheet" href="/lin-note/assets/style-c9ac8601.css">
    <link rel="modulepreload" href="/lin-note/assets/app-63ba67c3.js"><link rel="modulepreload" href="/lin-note/assets/SpringBoot.html-3bd0874c.js"><link rel="modulepreload" href="/lin-note/assets/SpringBoot.html-a5b41e9f.js"><link rel="prefetch" href="/lin-note/assets/index.html-7ac247b2.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-718d9233.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-bdb72a66.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-abf33b61.js" as="script"><link rel="prefetch" href="/lin-note/assets/css-selector.html-4ddc1312.js" as="script"><link rel="prefetch" href="/lin-note/assets/grid.html-83a11ef6.js" as="script"><link rel="prefetch" href="/lin-note/assets/transition-and-animation.html-4d56ead1.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-0a468fc3.js" as="script"><link rel="prefetch" href="/lin-note/assets/git-skill.html-f0a117e4.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-202c2065.js" as="script"><link rel="prefetch" href="/lin-note/assets/TS.html-41346a6b.js" as="script"><link rel="prefetch" href="/lin-note/assets/base-interview.html-8b639c77.js" as="script"><link rel="prefetch" href="/lin-note/assets/css.html-4c5ac7b8.js" as="script"><link rel="prefetch" href="/lin-note/assets/js.html-52fecadb.js" as="script"><link rel="prefetch" href="/lin-note/assets/vue.html-c8f7889b.js" as="script"><link rel="prefetch" href="/lin-note/assets/IO-stream.html-68b6927a.js" as="script"><link rel="prefetch" href="/lin-note/assets/Mybatis-plus.html-b321cb0e.js" as="script"><link rel="prefetch" href="/lin-note/assets/Mybatis.html-771fbe69.js" as="script"><link rel="prefetch" href="/lin-note/assets/Redis.html-25f318a2.js" as="script"><link rel="prefetch" href="/lin-note/assets/Spring.html-fd7faa71.js" as="script"><link rel="prefetch" href="/lin-note/assets/SpringCloud.html-77892f7c.js" as="script"><link rel="prefetch" href="/lin-note/assets/SpringMVC.html-9ffa610e.js" as="script"><link rel="prefetch" href="/lin-note/assets/annotation.html-ef3f1255.js" as="script"><link rel="prefetch" href="/lin-note/assets/collection.html-02fbc292.js" as="script"><link rel="prefetch" href="/lin-note/assets/docker.html-15ca0877.js" as="script"><link rel="prefetch" href="/lin-note/assets/javaWeb.html-f52915f0.js" as="script"><link rel="prefetch" href="/lin-note/assets/multithreading.html-d702fa28.js" as="script"><link rel="prefetch" href="/lin-note/assets/network.html-e0355c50.js" as="script"><link rel="prefetch" href="/lin-note/assets/object.html-a4c3db82.js" as="script"><link rel="prefetch" href="/lin-note/assets/linux.html-320a5acf.js" as="script"><link rel="prefetch" href="/lin-note/assets/shell.html-c4fc9e76.js" as="script"><link rel="prefetch" href="/lin-note/assets/DML.html-7ae20d69.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-e1b2afe1.js" as="script"><link rel="prefetch" href="/lin-note/assets/SELECT.html-9b1624cf.js" as="script"><link rel="prefetch" href="/lin-note/assets/aggregate-function.html-f7af8e65.js" as="script"><link rel="prefetch" href="/lin-note/assets/basis.html-6ba50d86.js" as="script"><link rel="prefetch" href="/lin-note/assets/constraint.html-cb95e5b6.js" as="script"><link rel="prefetch" href="/lin-note/assets/dataType.html-540c6dc8.js" as="script"><link rel="prefetch" href="/lin-note/assets/database-operation.html-c8be8c23.js" as="script"><link rel="prefetch" href="/lin-note/assets/function.html-76b49210.js" as="script"><link rel="prefetch" href="/lin-note/assets/multiple-select.html-71f721b6.js" as="script"><link rel="prefetch" href="/lin-note/assets/operator.html-bfd2d6f0.js" as="script"><link rel="prefetch" href="/lin-note/assets/sort-and-limit.html-1fec50f4.js" as="script"><link rel="prefetch" href="/lin-note/assets/subquery.html-044f542d.js" as="script"><link rel="prefetch" href="/lin-note/assets/express.html-ad7b92b8.js" as="script"><link rel="prefetch" href="/lin-note/assets/node.html-38b480a5.js" as="script"><link rel="prefetch" href="/lin-note/assets/plugin.html-e30be15e.js" as="script"><link rel="prefetch" href="/lin-note/assets/pnpm.html-f2c96aa8.js" as="script"><link rel="prefetch" href="/lin-note/assets/Narrowing.html-06574cd5.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-a0eacf46.js" as="script"><link rel="prefetch" href="/lin-note/assets/class.html-10a3caf8.js" as="script"><link rel="prefetch" href="/lin-note/assets/enum.html-d904315e.js" as="script"><link rel="prefetch" href="/lin-note/assets/everyday-types.html-b8e5db3f.js" as="script"><link rel="prefetch" href="/lin-note/assets/modules.html-e823bfb6.js" as="script"><link rel="prefetch" href="/lin-note/assets/more-on-function.html-be135352.js" as="script"><link rel="prefetch" href="/lin-note/assets/object-types.html-9a5724dc.js" as="script"><link rel="prefetch" href="/lin-note/assets/type-mainpulation.html-5201f613.js" as="script"><link rel="prefetch" href="/lin-note/assets/utils-type.html-ee069961.js" as="script"><link rel="prefetch" href="/lin-note/assets/jsx.html-da5a2044.js" as="script"><link rel="prefetch" href="/lin-note/assets/nuxt.html-7438dc8a.js" as="script"><link rel="prefetch" href="/lin-note/assets/plugins.html-01388666.js" as="script"><link rel="prefetch" href="/lin-note/assets/skill.html-a3f2acf4.js" as="script"><link rel="prefetch" href="/lin-note/assets/vue2.html-3ad6d4b1.js" as="script"><link rel="prefetch" href="/lin-note/assets/vue3.html-b4caf89f.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-a1e184d1.js" as="script"><link rel="prefetch" href="/lin-note/assets/class.html-40b0bc16.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-13189777.js" as="script"><link rel="prefetch" href="/lin-note/assets/canvas.html-55a78af2.js" as="script"><link rel="prefetch" href="/lin-note/assets/js-skill.html-3fdea7c0.js" as="script"><link rel="prefetch" href="/lin-note/assets/misunderstanding.html-90c92a54.js" as="script"><link rel="prefetch" href="/lin-note/assets/zoom-table.html-e0f94215.js" as="script"><link rel="prefetch" href="/lin-note/assets/BOM.html-81b04ac3.js" as="script"><link rel="prefetch" href="/lin-note/assets/DOM-extend.html-84f36b23.js" as="script"><link rel="prefetch" href="/lin-note/assets/DOM.html-7ed6ede7.js" as="script"><link rel="prefetch" href="/lin-note/assets/DOM2-and-DOM3.html-29e2b734.js" as="script"><link rel="prefetch" href="/lin-note/assets/JSON.html-7c3e9161.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-9f0a296d.js" as="script"><link rel="prefetch" href="/lin-note/assets/Web-Socket.html-7e320e2a.js" as="script"><link rel="prefetch" href="/lin-note/assets/animation-and-canvas.html-46e7fe83.js" as="script"><link rel="prefetch" href="/lin-note/assets/basis.html-47a878bd.js" as="script"><link rel="prefetch" href="/lin-note/assets/err-and-debug.html-94661d9d.js" as="script"><link rel="prefetch" href="/lin-note/assets/event.html-c8290ac6.js" as="script"><link rel="prefetch" href="/lin-note/assets/form.html-2f1684a1.js" as="script"><link rel="prefetch" href="/lin-note/assets/function.html-d13369f3.js" as="script"><link rel="prefetch" href="/lin-note/assets/javaScript-API.html-751e6d18.js" as="script"><link rel="prefetch" href="/lin-note/assets/promise.html-adab6fac.js" as="script"><link rel="prefetch" href="/lin-note/assets/reference-type.html-7ff79665.js" as="script"><link rel="prefetch" href="/lin-note/assets/variable.html-0a4bf3bf.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-979b9e3d.js" as="script"><link rel="prefetch" href="/lin-note/assets/abnormal.html-65d1214f.js" as="script"><link rel="prefetch" href="/lin-note/assets/array.html-20963356.js" as="script"><link rel="prefetch" href="/lin-note/assets/basics.html-13dab0a3.js" as="script"><link rel="prefetch" href="/lin-note/assets/methods.html-6dbc0bad.js" as="script"><link rel="prefetch" href="/lin-note/assets/object-oriented.html-0b19287c.js" as="script"><link rel="prefetch" href="/lin-note/assets/process-control.html-c6674f8a.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-af5307bd.js" as="script"><link rel="prefetch" href="/lin-note/assets/jdk8.html-e4fe623b.js" as="script"><link rel="prefetch" href="/lin-note/assets/express.html-f6d95fa0.js" as="script"><link rel="prefetch" href="/lin-note/assets/express文档笔记.html-3f10b946.js" as="script"><link rel="prefetch" href="/lin-note/assets/jwt(token)的使用.html-e7648ad6.js" as="script"><link rel="prefetch" href="/lin-note/assets/node.js.html-db9add14.js" as="script"><link rel="prefetch" href="/lin-note/assets/连接mysql.html-25515e3b.js" as="script"><link rel="prefetch" href="/lin-note/assets/项目笔记.html-cbc941c1.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-c883f899.js" as="script"><link rel="prefetch" href="/lin-note/assets/command-line.html-9b574780.js" as="script"><link rel="prefetch" href="/lin-note/assets/package-json.html-898f4668.js" as="script"><link rel="prefetch" href="/lin-note/assets/quick-acting.html-d97e8173.js" as="script"><link rel="prefetch" href="/lin-note/assets/annotation.html-be1dd1cd.js" as="script"><link rel="prefetch" href="/lin-note/assets/declaration.html-967850da.js" as="script"><link rel="prefetch" href="/lin-note/assets/declare.html-ff275eb4.js" as="script"><link rel="prefetch" href="/lin-note/assets/genericity.html-3fe1be85.js" as="script"><link rel="prefetch" href="/lin-note/assets/interface.html-a126fa06.js" as="script"><link rel="prefetch" href="/lin-note/assets/type-assertion.html-f63e7a7f.js" as="script"><link rel="prefetch" href="/lin-note/assets/type-map.html-10bb8ada.js" as="script"><link rel="prefetch" href="/lin-note/assets/type-operator.html-f9425183.js" as="script"><link rel="prefetch" href="/lin-note/assets/ts笔记.html-afe32c5d.js" as="script"><link rel="prefetch" href="/lin-note/assets/ts编译选项.html-d09d4653.js" as="script"><link rel="prefetch" href="/lin-note/assets/typescript.html-dda20d39.js" as="script"><link rel="prefetch" href="/lin-note/assets/eslint配置.html-c06c6b56.js" as="script"><link rel="prefetch" href="/lin-note/assets/vue3笔记.html-16995a03.js" as="script"><link rel="prefetch" href="/lin-note/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-e0e89ec5.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-ca9b9a5f.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-a97d61f8.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-0faa5b93.js" as="script"><link rel="prefetch" href="/lin-note/assets/css-selector.html-05d039f2.js" as="script"><link rel="prefetch" href="/lin-note/assets/grid.html-3e8dfee8.js" as="script"><link rel="prefetch" href="/lin-note/assets/transition-and-animation.html-1c9b2181.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-6ce7fe54.js" as="script"><link rel="prefetch" href="/lin-note/assets/git-skill.html-e6a9b9d8.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-f91b4448.js" as="script"><link rel="prefetch" href="/lin-note/assets/TS.html-2c23fc8b.js" as="script"><link rel="prefetch" href="/lin-note/assets/base-interview.html-c685ae72.js" as="script"><link rel="prefetch" href="/lin-note/assets/css.html-b0006626.js" as="script"><link rel="prefetch" href="/lin-note/assets/js.html-5a2f9faa.js" as="script"><link rel="prefetch" href="/lin-note/assets/vue.html-13bc9b4b.js" as="script"><link rel="prefetch" href="/lin-note/assets/IO-stream.html-5a6b7324.js" as="script"><link rel="prefetch" href="/lin-note/assets/Mybatis-plus.html-6f2b3285.js" as="script"><link rel="prefetch" href="/lin-note/assets/Mybatis.html-54cb13e9.js" as="script"><link rel="prefetch" href="/lin-note/assets/Redis.html-53ab618e.js" as="script"><link rel="prefetch" href="/lin-note/assets/Spring.html-625093e4.js" as="script"><link rel="prefetch" href="/lin-note/assets/SpringCloud.html-83623455.js" as="script"><link rel="prefetch" href="/lin-note/assets/SpringMVC.html-13aa4762.js" as="script"><link rel="prefetch" href="/lin-note/assets/annotation.html-08cf9b7e.js" as="script"><link rel="prefetch" href="/lin-note/assets/collection.html-0a322a2b.js" as="script"><link rel="prefetch" href="/lin-note/assets/docker.html-cf3c70cd.js" as="script"><link rel="prefetch" href="/lin-note/assets/javaWeb.html-626b5f33.js" as="script"><link rel="prefetch" href="/lin-note/assets/multithreading.html-83df2a7c.js" as="script"><link rel="prefetch" href="/lin-note/assets/network.html-b7884120.js" as="script"><link rel="prefetch" href="/lin-note/assets/object.html-cf209efa.js" as="script"><link rel="prefetch" href="/lin-note/assets/linux.html-773d1350.js" as="script"><link rel="prefetch" href="/lin-note/assets/shell.html-67d2ea6e.js" as="script"><link rel="prefetch" href="/lin-note/assets/DML.html-96cd09e2.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-bc68e8ac.js" as="script"><link rel="prefetch" href="/lin-note/assets/SELECT.html-5c9d3737.js" as="script"><link rel="prefetch" href="/lin-note/assets/aggregate-function.html-e3cf5260.js" as="script"><link rel="prefetch" href="/lin-note/assets/basis.html-eba33a4b.js" as="script"><link rel="prefetch" href="/lin-note/assets/constraint.html-d7eae0b4.js" as="script"><link rel="prefetch" href="/lin-note/assets/dataType.html-e6edcbd5.js" as="script"><link rel="prefetch" href="/lin-note/assets/database-operation.html-7dc12da8.js" as="script"><link rel="prefetch" href="/lin-note/assets/function.html-be43e305.js" as="script"><link rel="prefetch" href="/lin-note/assets/multiple-select.html-8027273c.js" as="script"><link rel="prefetch" href="/lin-note/assets/operator.html-67212ff8.js" as="script"><link rel="prefetch" href="/lin-note/assets/sort-and-limit.html-90bd7630.js" as="script"><link rel="prefetch" href="/lin-note/assets/subquery.html-68a8bbda.js" as="script"><link rel="prefetch" href="/lin-note/assets/express.html-076541de.js" as="script"><link rel="prefetch" href="/lin-note/assets/node.html-07d0d1b8.js" as="script"><link rel="prefetch" href="/lin-note/assets/plugin.html-4e2abf5c.js" as="script"><link rel="prefetch" href="/lin-note/assets/pnpm.html-c56a772e.js" as="script"><link rel="prefetch" href="/lin-note/assets/Narrowing.html-531af619.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-aa8fdd9f.js" as="script"><link rel="prefetch" href="/lin-note/assets/class.html-98c68b05.js" as="script"><link rel="prefetch" href="/lin-note/assets/enum.html-6cc68b72.js" as="script"><link rel="prefetch" href="/lin-note/assets/everyday-types.html-b6a2ded9.js" as="script"><link rel="prefetch" href="/lin-note/assets/modules.html-f6097fa0.js" as="script"><link rel="prefetch" href="/lin-note/assets/more-on-function.html-57adf2ba.js" as="script"><link rel="prefetch" href="/lin-note/assets/object-types.html-846246ab.js" as="script"><link rel="prefetch" href="/lin-note/assets/type-mainpulation.html-91059039.js" as="script"><link rel="prefetch" href="/lin-note/assets/utils-type.html-80ee7f5a.js" as="script"><link rel="prefetch" href="/lin-note/assets/jsx.html-335b6e94.js" as="script"><link rel="prefetch" href="/lin-note/assets/nuxt.html-b0ce66e9.js" as="script"><link rel="prefetch" href="/lin-note/assets/plugins.html-e4bb235f.js" as="script"><link rel="prefetch" href="/lin-note/assets/skill.html-a29915ea.js" as="script"><link rel="prefetch" href="/lin-note/assets/vue2.html-57ab3de4.js" as="script"><link rel="prefetch" href="/lin-note/assets/vue3.html-32b5140e.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-2a787b3c.js" as="script"><link rel="prefetch" href="/lin-note/assets/class.html-2cf1d519.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-774e04d2.js" as="script"><link rel="prefetch" href="/lin-note/assets/canvas.html-ad8c1f17.js" as="script"><link rel="prefetch" href="/lin-note/assets/js-skill.html-e1002584.js" as="script"><link rel="prefetch" href="/lin-note/assets/misunderstanding.html-89a0705f.js" as="script"><link rel="prefetch" href="/lin-note/assets/zoom-table.html-83739581.js" as="script"><link rel="prefetch" href="/lin-note/assets/BOM.html-9c48fbde.js" as="script"><link rel="prefetch" href="/lin-note/assets/DOM-extend.html-f3f61027.js" as="script"><link rel="prefetch" href="/lin-note/assets/DOM.html-7197b34b.js" as="script"><link rel="prefetch" href="/lin-note/assets/DOM2-and-DOM3.html-e62853b5.js" as="script"><link rel="prefetch" href="/lin-note/assets/JSON.html-61fd3f14.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-e05b95bb.js" as="script"><link rel="prefetch" href="/lin-note/assets/Web-Socket.html-96676e7e.js" as="script"><link rel="prefetch" href="/lin-note/assets/animation-and-canvas.html-d237e6d1.js" as="script"><link rel="prefetch" href="/lin-note/assets/basis.html-6f2f8758.js" as="script"><link rel="prefetch" href="/lin-note/assets/err-and-debug.html-db61f063.js" as="script"><link rel="prefetch" href="/lin-note/assets/event.html-5ca8b8e6.js" as="script"><link rel="prefetch" href="/lin-note/assets/form.html-609f783f.js" as="script"><link rel="prefetch" href="/lin-note/assets/function.html-67672179.js" as="script"><link rel="prefetch" href="/lin-note/assets/javaScript-API.html-240189e9.js" as="script"><link rel="prefetch" href="/lin-note/assets/promise.html-bb12e0c2.js" as="script"><link rel="prefetch" href="/lin-note/assets/reference-type.html-23d43088.js" as="script"><link rel="prefetch" href="/lin-note/assets/variable.html-fecda7a2.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-77381325.js" as="script"><link rel="prefetch" href="/lin-note/assets/abnormal.html-9191eecc.js" as="script"><link rel="prefetch" href="/lin-note/assets/array.html-eb327dee.js" as="script"><link rel="prefetch" href="/lin-note/assets/basics.html-f6e949b8.js" as="script"><link rel="prefetch" href="/lin-note/assets/methods.html-5c0aa086.js" as="script"><link rel="prefetch" href="/lin-note/assets/object-oriented.html-b4c54f91.js" as="script"><link rel="prefetch" href="/lin-note/assets/process-control.html-4ac12b31.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-16488659.js" as="script"><link rel="prefetch" href="/lin-note/assets/jdk8.html-0a8bbd11.js" as="script"><link rel="prefetch" href="/lin-note/assets/express.html-ad163248.js" as="script"><link rel="prefetch" href="/lin-note/assets/express文档笔记.html-264be1f1.js" as="script"><link rel="prefetch" href="/lin-note/assets/jwt(token)的使用.html-cc7f3b1b.js" as="script"><link rel="prefetch" href="/lin-note/assets/node.js.html-7c5e80f6.js" as="script"><link rel="prefetch" href="/lin-note/assets/连接mysql.html-ce55e811.js" as="script"><link rel="prefetch" href="/lin-note/assets/项目笔记.html-280d9b19.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-a3a982fb.js" as="script"><link rel="prefetch" href="/lin-note/assets/command-line.html-9af32890.js" as="script"><link rel="prefetch" href="/lin-note/assets/package-json.html-9961c2a8.js" as="script"><link rel="prefetch" href="/lin-note/assets/quick-acting.html-3f39bb11.js" as="script"><link rel="prefetch" href="/lin-note/assets/annotation.html-49e77638.js" as="script"><link rel="prefetch" href="/lin-note/assets/declaration.html-10f20ee4.js" as="script"><link rel="prefetch" href="/lin-note/assets/declare.html-ce9f1ca1.js" as="script"><link rel="prefetch" href="/lin-note/assets/genericity.html-ba1fb777.js" as="script"><link rel="prefetch" href="/lin-note/assets/interface.html-d120e025.js" as="script"><link rel="prefetch" href="/lin-note/assets/type-assertion.html-689ef1bc.js" as="script"><link rel="prefetch" href="/lin-note/assets/type-map.html-a804853f.js" as="script"><link rel="prefetch" href="/lin-note/assets/type-operator.html-e6041968.js" as="script"><link rel="prefetch" href="/lin-note/assets/ts笔记.html-2b3df9af.js" as="script"><link rel="prefetch" href="/lin-note/assets/ts编译选项.html-d34a7e2a.js" as="script"><link rel="prefetch" href="/lin-note/assets/typescript.html-f6cb899c.js" as="script"><link rel="prefetch" href="/lin-note/assets/eslint配置.html-768fa7d1.js" as="script"><link rel="prefetch" href="/lin-note/assets/vue3笔记.html-5c409fdd.js" as="script"><link rel="prefetch" href="/lin-note/assets/404.html-1a46fcde.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/lin-note/" class=""><!----><span class="site-name">学海无涯，苦乐自知。</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/lin-note/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="javaScript"><span class="title">javaScript</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="javaScript"><span class="title">javaScript</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/javaScript/js-note/" class="" aria-label="js"><!--[--><!--]--> js <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/javaScript/ES6/" class="" aria-label="ES6"><!--[--><!--]--> ES6 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/javaScript/red-book/" class="" aria-label="红宝书笔记"><!--[--><!--]--> 红宝书笔记 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/lin-note/css/" class="" aria-label="css"><!--[--><!--]--> css <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="node"><span class="title">node</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="node"><span class="title">node</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/node/node.md" class="" aria-label="node"><!--[--><!--]--> node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/node/express.md" class="" aria-label="express"><!--[--><!--]--> express <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/node/plugin.md" class="" aria-label="express插件"><!--[--><!--]--> express插件 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="git"><span class="title">git</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="git"><span class="title">git</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/git/" class="" aria-label="git"><!--[--><!--]--> git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/git/git-skill.md" class="" aria-label="git技巧"><!--[--><!--]--> git技巧 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="包管理"><span class="title">包管理</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="包管理"><span class="title">包管理</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/pack/npm/" class="" aria-label="npm"><!--[--><!--]--> npm <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/pack/pnpm.md" class="" aria-label="pnpm"><!--[--><!--]--> pnpm <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="vue"><span class="title">vue</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="vue"><span class="title">vue</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/vue/vue2.md" class="" aria-label="vue2"><!--[--><!--]--> vue2 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/vue3.md" class="" aria-label="vue3"><!--[--><!--]--> vue3 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/nuxt.md" class="" aria-label="nuxt"><!--[--><!--]--> nuxt <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/jsx.md" class="" aria-label="jsx"><!--[--><!--]--> jsx <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/plugins.md" class="" aria-label="常用插件"><!--[--><!--]--> 常用插件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/skill.md" class="" aria-label="技巧积累"><!--[--><!--]--> 技巧积累 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/lin-note/ts/" class="" aria-label="ts"><!--[--><!--]--> ts <!--[--><!--]--></a></div><div class="navbar-item"><a href="/lin-note/mysql/" class="" aria-label="mysql"><!--[--><!--]--> mysql <!--[--><!--]--></a></div><div class="navbar-item"><a href="/lin-note/interview/" class="" aria-label="前端面试题"><!--[--><!--]--> 前端面试题 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java"><span class="title">Java</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/java/javaSE/" class="" aria-label="javaSE"><!--[--><!--]--> javaSE <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/object.md" class="" aria-label="常用类"><!--[--><!--]--> 常用类 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/collection.md" class="" aria-label="集合"><!--[--><!--]--> 集合 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/IO-stream.md" class="" aria-label="IO"><!--[--><!--]--> IO <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/multithreading.md" class="" aria-label="多线程"><!--[--><!--]--> 多线程 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/new-feature/" class="" aria-label="java新特性"><!--[--><!--]--> java新特性 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/network.md" class="" aria-label="网络编程"><!--[--><!--]--> 网络编程 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/annotation.md" class="" aria-label="注解和反射"><!--[--><!--]--> 注解和反射 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/javaWeb.md" class="" aria-label="javaWeb"><!--[--><!--]--> javaWeb <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/Mybatis.md" class="" aria-label="Mybatis"><!--[--><!--]--> Mybatis <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/Mybatis-plus.md" class="" aria-label="Mybatis-plus"><!--[--><!--]--> Mybatis-plus <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/Spring.md" class="" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/SpringMVC.md" class="" aria-label="SpringMVC"><!--[--><!--]--> SpringMVC <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/SpringBoot.md" class="" aria-label="SpringBoot"><!--[--><!--]--> SpringBoot <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/SpringCloud.md" class="" aria-label="SpringCloud"><!--[--><!--]--> SpringCloud <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/docker.md" class="" aria-label="docker"><!--[--><!--]--> docker <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/Redis.md" class="" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="linux"><span class="title">linux</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="linux"><span class="title">linux</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/linux/linux.md" class="" aria-label="linux"><!--[--><!--]--> linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/linux/shell.md" class="" aria-label="shell"><!--[--><!--]--> shell <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/lin-note/Nginx/" class="" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg class="icon" focusable="false" viewBox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="icon" focusable="false" viewBox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/lin-note/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="javaScript"><span class="title">javaScript</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="javaScript"><span class="title">javaScript</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/javaScript/js-note/" class="" aria-label="js"><!--[--><!--]--> js <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/javaScript/ES6/" class="" aria-label="ES6"><!--[--><!--]--> ES6 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/javaScript/red-book/" class="" aria-label="红宝书笔记"><!--[--><!--]--> 红宝书笔记 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/lin-note/css/" class="" aria-label="css"><!--[--><!--]--> css <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="node"><span class="title">node</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="node"><span class="title">node</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/node/node.md" class="" aria-label="node"><!--[--><!--]--> node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/node/express.md" class="" aria-label="express"><!--[--><!--]--> express <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/node/plugin.md" class="" aria-label="express插件"><!--[--><!--]--> express插件 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="git"><span class="title">git</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="git"><span class="title">git</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/git/" class="" aria-label="git"><!--[--><!--]--> git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/git/git-skill.md" class="" aria-label="git技巧"><!--[--><!--]--> git技巧 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="包管理"><span class="title">包管理</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="包管理"><span class="title">包管理</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/pack/npm/" class="" aria-label="npm"><!--[--><!--]--> npm <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/pack/pnpm.md" class="" aria-label="pnpm"><!--[--><!--]--> pnpm <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="vue"><span class="title">vue</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="vue"><span class="title">vue</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/vue/vue2.md" class="" aria-label="vue2"><!--[--><!--]--> vue2 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/vue3.md" class="" aria-label="vue3"><!--[--><!--]--> vue3 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/nuxt.md" class="" aria-label="nuxt"><!--[--><!--]--> nuxt <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/jsx.md" class="" aria-label="jsx"><!--[--><!--]--> jsx <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/plugins.md" class="" aria-label="常用插件"><!--[--><!--]--> 常用插件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/skill.md" class="" aria-label="技巧积累"><!--[--><!--]--> 技巧积累 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/lin-note/ts/" class="" aria-label="ts"><!--[--><!--]--> ts <!--[--><!--]--></a></div><div class="navbar-item"><a href="/lin-note/mysql/" class="" aria-label="mysql"><!--[--><!--]--> mysql <!--[--><!--]--></a></div><div class="navbar-item"><a href="/lin-note/interview/" class="" aria-label="前端面试题"><!--[--><!--]--> 前端面试题 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java"><span class="title">Java</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/java/javaSE/" class="" aria-label="javaSE"><!--[--><!--]--> javaSE <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/object.md" class="" aria-label="常用类"><!--[--><!--]--> 常用类 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/collection.md" class="" aria-label="集合"><!--[--><!--]--> 集合 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/IO-stream.md" class="" aria-label="IO"><!--[--><!--]--> IO <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/multithreading.md" class="" aria-label="多线程"><!--[--><!--]--> 多线程 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/new-feature/" class="" aria-label="java新特性"><!--[--><!--]--> java新特性 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/network.md" class="" aria-label="网络编程"><!--[--><!--]--> 网络编程 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/annotation.md" class="" aria-label="注解和反射"><!--[--><!--]--> 注解和反射 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/javaWeb.md" class="" aria-label="javaWeb"><!--[--><!--]--> javaWeb <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/Mybatis.md" class="" aria-label="Mybatis"><!--[--><!--]--> Mybatis <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/Mybatis-plus.md" class="" aria-label="Mybatis-plus"><!--[--><!--]--> Mybatis-plus <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/Spring.md" class="" aria-label="Spring"><!--[--><!--]--> Spring <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/SpringMVC.md" class="" aria-label="SpringMVC"><!--[--><!--]--> SpringMVC <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/SpringBoot.md" class="" aria-label="SpringBoot"><!--[--><!--]--> SpringBoot <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/SpringCloud.md" class="" aria-label="SpringCloud"><!--[--><!--]--> SpringCloud <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/docker.md" class="" aria-label="docker"><!--[--><!--]--> docker <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/Redis.md" class="" aria-label="Redis"><!--[--><!--]--> Redis <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="linux"><span class="title">linux</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="linux"><span class="title">linux</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/linux/linux.md" class="" aria-label="linux"><!--[--><!--]--> linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/linux/shell.md" class="" aria-label="shell"><!--[--><!--]--> shell <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/lin-note/Nginx/" class="" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">SpringBoot <!----></p><ul class="sidebar-item-children" style=""><!--[--><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#_1、核心文件说明" class="router-link-active router-link-exact-active sidebar-item" aria-label="1、核心文件说明"><!--[--><!--]--> 1、核心文件说明 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#_2、依赖管理" class="router-link-active router-link-exact-active sidebar-item" aria-label="2、依赖管理"><!--[--><!--]--> 2、依赖管理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#_3、自动配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="3、自动配置"><!--[--><!--]--> 3、自动配置 <!--[--><!--]--></a><ul class="sidebar-item-children" style=""><!--[--><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#默认的包结构" class="router-link-active router-link-exact-active sidebar-item" aria-label="默认的包结构"><!--[--><!--]--> 默认的包结构 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#配置文件的默认值" class="router-link-active router-link-exact-active sidebar-item" aria-label="配置文件的默认值"><!--[--><!--]--> 配置文件的默认值 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#_4、给实体类注入属性" class="router-link-active router-link-exact-active sidebar-item" aria-label="4、给实体类注入属性"><!--[--><!--]--> 4、给实体类注入属性 <!--[--><!--]--></a><ul class="sidebar-item-children" style=""><!--[--><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#通过-yaml-文件进行注入" class="router-link-active router-link-exact-active sidebar-item" aria-label="通过 yaml 文件进行注入"><!--[--><!--]--> 通过 yaml 文件进行注入 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#通过普通的-properties-文件注入" class="router-link-active router-link-exact-active sidebar-item" aria-label="通过普通的 properties 文件注入"><!--[--><!--]--> 通过普通的 properties 文件注入 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#_5、常用注解" class="router-link-active router-link-exact-active sidebar-item" aria-label="5、常用注解"><!--[--><!--]--> 5、常用注解 <!--[--><!--]--></a><ul class="sidebar-item-children" style=""><!--[--><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#configuration" class="router-link-active router-link-exact-active sidebar-item" aria-label="@Configuration"><!--[--><!--]--> @Configuration <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#bean" class="router-link-active router-link-exact-active sidebar-item" aria-label="@Bean"><!--[--><!--]--> @Bean <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#import" class="router-link-active router-link-exact-active sidebar-item" aria-label="@Import"><!--[--><!--]--> @Import <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#conditional" class="router-link-active router-link-exact-active sidebar-item" aria-label="@Conditional"><!--[--><!--]--> @Conditional <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#importresource" class="router-link-active router-link-exact-active sidebar-item" aria-label="@ImportResource"><!--[--><!--]--> @ImportResource <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#configurationproperties" class="router-link-active router-link-exact-active sidebar-item" aria-label="@ConfigurationProperties"><!--[--><!--]--> @ConfigurationProperties <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#_3、jsr303-验证-validation" class="router-link-active router-link-exact-active sidebar-item" aria-label="3、jsr303 验证（validation）"><!--[--><!--]--> 3、jsr303 验证（validation） <!--[--><!--]--></a><ul class="sidebar-item-children" style=""><!--[--><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#自定义校验" class="router-link-active router-link-exact-active sidebar-item" aria-label="自定义校验"><!--[--><!--]--> 自定义校验 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#_4、配置文件说明" class="router-link-active router-link-exact-active sidebar-item" aria-label="4、配置文件说明"><!--[--><!--]--> 4、配置文件说明 <!--[--><!--]--></a><ul class="sidebar-item-children" style=""><!--[--><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#配置文件支持的路径" class="router-link-active router-link-exact-active sidebar-item" aria-label="配置文件支持的路径"><!--[--><!--]--> 配置文件支持的路径 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#多环境配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="多环境配置"><!--[--><!--]--> 多环境配置 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#_5、全局异常处理" class="router-link-active router-link-exact-active sidebar-item" aria-label="5、全局异常处理"><!--[--><!--]--> 5、全局异常处理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#_6、全局拦截器" class="router-link-active router-link-exact-active sidebar-item" aria-label="6、全局拦截器"><!--[--><!--]--> 6、全局拦截器 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/lin-note/java/SpringBoot.html#_7、使用线程池共享状态" class="router-link-active router-link-exact-active sidebar-item" aria-label="7、使用线程池共享状态"><!--[--><!--]--> 7、使用线程池共享状态 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="springboot" tabindex="-1"><a class="header-anchor" href="#springboot" aria-hidden="true">#</a> SpringBoot</h1><h2 id="_1、核心文件说明" tabindex="-1"><a class="header-anchor" href="#_1、核心文件说明" aria-hidden="true">#</a> 1、核心文件说明</h2><ol><li><p><code>application.properties</code>配置文件</p><p>可以改为<code>application.yaml</code>就可以使用<code>yaml</code>的语法</p><ul><li><p><code>application.properties</code>使用的是 <code>k=v</code> 的语法</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>server<span class="token punctuation">.</span>port<span class="token operator">=</span><span class="token number">8080</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p><code>yaml</code>是<code>k:(空格)v</code>的语法，以空格的缩进来表示层级关系，左对齐的就属于同一层级，对大小写敏感，严格要求空格</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>

<span class="token comment"># 对象</span>
<span class="token key atrule">student</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> zhang
  <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">12</span>

<span class="token key atrule">student</span><span class="token punctuation">:</span> <span class="token punctuation">{</span><span class="token key atrule">name</span><span class="token punctuation">:</span> li<span class="token punctuation">,</span><span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">}</span>

<span class="token comment"># 数组</span>
<span class="token key atrule">hobby</span><span class="token punctuation">:</span>
  <span class="token punctuation">-</span> playGame
  <span class="token punctuation">-</span> study

<span class="token key atrule">hobby</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>playGame<span class="token punctuation">,</span>study<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ol><h2 id="_2、依赖管理" tabindex="-1"><a class="header-anchor" href="#_2、依赖管理" aria-hidden="true">#</a> 2、依赖管理</h2><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--依赖管理--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.5.9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>relativePath</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--上面依赖管理父项目，他里面管理了很多常见依赖的版本--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.5.9<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><p><code>spring-boot-dependencies</code>中管理了很多常用依赖的版本，所以在导入其他依赖的时候，如果这个包在在里面声明过了版本号，那么就可以不用配置版本号，直接配置依赖就行了</p></li><li><p>改用指定版本的依赖</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mysql.version</span><span class="token punctuation">&gt;</span></span>6.0.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mysql.version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>spring-boot-starter-*</code>只要是这个开头的依赖都是官方提供的依赖</p></li></ul><h2 id="_3、自动配置" tabindex="-1"><a class="header-anchor" href="#_3、自动配置" aria-hidden="true">#</a> 3、自动配置</h2><h3 id="默认的包结构" tabindex="-1"><a class="header-anchor" href="#默认的包结构" aria-hidden="true">#</a> 默认的包结构</h3><ul><li><p>和主程序所在包以及下面所有的子包资料的组件都会被默认扫描出来，无需任何配置</p></li><li><p>手动改变要扫描的包路径</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span>

<span class="token comment">// 通过 scanBasePackages 指定扫描包的路径</span>
<span class="token annotation punctuation">@SpringBootApplication</span><span class="token punctuation">(</span>scanBasePackages <span class="token operator">=</span> <span class="token string">&quot;com.ldlang&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HelloApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">HelloApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="配置文件的默认值" tabindex="-1"><a class="header-anchor" href="#配置文件的默认值" aria-hidden="true">#</a> 配置文件的默认值</h3><ul><li><p><code>application.yaml</code>中所有的配置最终都会绑定到对应的类上，这个类会在容器中创建对象</p></li><li><p>按需加载默认配置，只有被引用的包才会开启</p></li></ul><h2 id="_4、给实体类注入属性" tabindex="-1"><a class="header-anchor" href="#_4、给实体类注入属性" aria-hidden="true">#</a> 4、给实体类注入属性</h2><h3 id="通过-yaml-文件进行注入" tabindex="-1"><a class="header-anchor" href="#通过-yaml-文件进行注入" aria-hidden="true">#</a> 通过 yaml 文件进行注入</h3><ol><li><p>实体</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>context<span class="token punctuation">.</span>properties<span class="token punctuation">.</span></span><span class="token class-name">ConfigurationProperties</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span></span><span class="token punctuation">;</span>

<span class="token comment">// 注册为一个组件</span>
<span class="token annotation punctuation">@Component</span>
<span class="token comment">// 指定要使用application.yaml中的那个对象</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> names<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">boolean</span> isHave<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> hobby<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Object</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> kvs<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Dog</span> dog<span class="token punctuation">;</span>
    <span class="token comment">// getter和setter必须要有，但这里省略</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p><code>application.yaml</code></p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">user</span><span class="token punctuation">:</span>
  <span class="token key atrule">age</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>random.int<span class="token punctuation">}</span> <span class="token comment"># 随机值</span>
  <span class="token key atrule">names</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>random.uuid<span class="token punctuation">}</span> <span class="token comment"># uuid</span>
  <span class="token key atrule">boo</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
  <span class="token key atrule">isHave</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>user.boo<span class="token punctuation">}</span> <span class="token comment"># 使用其他变量</span>
  <span class="token key atrule">hobby</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> 抽烟
    <span class="token punctuation">-</span> 喝酒
    <span class="token punctuation">-</span> 烫头
  <span class="token key atrule">kvs</span><span class="token punctuation">:</span>
    <span class="token key atrule">k</span><span class="token punctuation">:</span> v
    <span class="token key atrule">a</span><span class="token punctuation">:</span> v
  <span class="token key atrule">dog</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> 旺财
    <span class="token key atrule">age</span><span class="token punctuation">:</span> <span class="token number">2</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>测试</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>ldlang<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">User</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">SpringBootTest</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">BootApplicationTests</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">User</span> user<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// User{age=-1407422968, names=&#39;ecab8521-af3b-4775-947f-1d8f7a9f3f49&#39;, isHave=true, hobby=[抽烟, 喝酒, 烫头], kvs={k=v, a=v}, dog=null}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="通过普通的-properties-文件注入" tabindex="-1"><a class="header-anchor" href="#通过普通的-properties-文件注入" aria-hidden="true">#</a> 通过普通的 properties 文件注入</h3><ol><li>实体类</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">PropertySource</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Component</span>
<span class="token comment">// 指定使用那个properties文件</span>
<span class="token annotation punctuation">@PropertySource</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;classpath:ldlang.properties&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token punctuation">{</span>
    <span class="token comment">// 必须明确指定属性名</span>
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${name}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${age}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
    <span class="token comment">// getter和setter必须要有，但这里省略</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><p>properties 文件</p><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token key attr-name">name</span><span class="token punctuation">=</span><span class="token value attr-value">wan</span>
<span class="token key attr-name">age</span><span class="token punctuation">=</span><span class="token value attr-value">10</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>测试</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>ldlang<span class="token punctuation">.</span>pojo<span class="token punctuation">.</span></span><span class="token class-name">Dog</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>junit<span class="token punctuation">.</span>jupiter<span class="token punctuation">.</span>api<span class="token punctuation">.</span></span><span class="token class-name">Test</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>test<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">SpringBootTest</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">BootApplicationTests</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">Dog</span> dog<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// Dog{name=&#39;wan&#39;, age=10}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h2 id="_5、常用注解" tabindex="-1"><a class="header-anchor" href="#_5、常用注解" aria-hidden="true">#</a> 5、常用注解</h2><hr><p><strong>注册组件注解</strong></p><h3 id="configuration" tabindex="-1"><a class="header-anchor" href="#configuration" aria-hidden="true">#</a> <code>@Configuration</code></h3><p>标记一个类为配置类，核心作用是代替配置<code>bean</code>的<code>xml</code>文件，让你能通过<code>java</code>代码的形式向<code>Spring</code>注入<code>bean</code>，注入的这个<code>bean</code>能够在使用的地方通过<code>@Autowired</code>来使用对象。</p><ol><li><p>在配置类中通过<code>@Bean</code>注解标记在方法上给容器注册组件，默认是单例的</p></li><li><p>配置类本身也是一个组件</p></li><li><p>改变代理<code>bean</code>的方式</p><ul><li><p><code>proxyBeanMethods =true</code>默认值，每次返回的<code>bean</code>都是同一个对象</p></li><li><p><code>proxyBeanMethods =true</code>，每次返回的<code>bean</code>都<strong>不</strong>是同一个对象</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span><span class="token punctuation">(</span>proxyBeanMethods <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">// 推荐使用</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ul></li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RedisConfig</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Person</span> <span class="token function">user</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;李四&quot;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="bean" tabindex="-1"><a class="header-anchor" href="#bean" aria-hidden="true">#</a> @Bean</h3><p>配合<code>@Configuration</code>来向容器中注册组件，以方法名作为组件的 id。返回类型就是组件类型。返回的值，就是组件在容器中的实例</p><h3 id="import" tabindex="-1"><a class="header-anchor" href="#import" aria-hidden="true">#</a> @Import</h3><p>配合<code>@Configuration</code>向<code>Spring</code>容器中导入更多的组件，导入的类会自动注册为<code>bean</code>，默认组件的名字就是全类名。</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span><span class="token punctuation">(</span>proxyBeanMethods <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyConfig</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="conditional" tabindex="-1"><a class="header-anchor" href="#conditional" aria-hidden="true">#</a> @Conditional</h3><p>配合<code>@Configuration</code>以及控制条件来注册组件</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token comment">// Spring容器中有名字为 person 的 bean 这个config才生效，</span>
<span class="token annotation punctuation">@ConditionalOnMissingBean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;person&quot;</span><span class="token punctuation">)</span> <span class="token comment">// 也可以和 @Bean 来控制某一个 Bean</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyConfig</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="/lin-note/java/Conditional.png" alt="所有的控制条件"></p><hr><p><strong>原生配置文件引入</strong></p><h3 id="importresource" tabindex="-1"><a class="header-anchor" href="#importresource" aria-hidden="true">#</a> @ImportResource</h3><p>配合<code>@Configuration</code>来导入<code>beans.xml</code>文件</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@ImportResource</span><span class="token punctuation">(</span><span class="token string">&quot;classpath:beans.xml&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyConfig</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="configurationproperties" tabindex="-1"><a class="header-anchor" href="#configurationproperties" aria-hidden="true">#</a> @ConfigurationProperties</h3><p>获取配置文件中的属性，参考第四点</p><h2 id="_3、jsr303-验证-validation" tabindex="-1"><a class="header-anchor" href="#_3、jsr303-验证-validation" aria-hidden="true">#</a> 3、jsr303 验证（validation）</h2><ol><li><p>导入支持包</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-validation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>使用</p><ul><li><p>方式一</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>constraints<span class="token punctuation">.</span></span><span class="token class-name">Max</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>validation<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Validated</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Validated</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span>
    <span class="token comment">// 自定义最大值和错误提示信息</span>
    <span class="token annotation punctuation">@Max</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token number">12</span><span class="token punctuation">,</span> message <span class="token operator">=</span> <span class="token string">&quot;最大值不能超过12&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token keyword">int</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>方式二</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/register&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">register</span><span class="token punctuation">(</span>
    <span class="token comment">// 正则校验字符</span>
    <span class="token annotation punctuation">@Pattern</span><span class="token punctuation">(</span>regexp <span class="token operator">=</span> <span class="token string">&quot;^.{5,16}$&quot;</span><span class="token punctuation">,</span> message <span class="token operator">=</span> <span class="token string">&quot;账号长度必须5-16位&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> username<span class="token punctuation">,</span>
    <span class="token annotation punctuation">@Pattern</span><span class="token punctuation">(</span>regexp <span class="token operator">=</span> <span class="token string">&quot;^.{5,16}$&quot;</span><span class="token punctuation">,</span> message <span class="token operator">=</span> <span class="token string">&quot;密码长度必须5-16位&quot;</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> password
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">User</span> user <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">findUser</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>user <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;该用户已注册&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">int</span> res <span class="token operator">=</span> userService<span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>res <span class="token operator">&lt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;注册失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">&quot;注册成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ol><h3 id="自定义校验" tabindex="-1"><a class="header-anchor" href="#自定义校验" aria-hidden="true">#</a> 自定义校验</h3><ol><li><p>定义注解</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>ldlang<span class="token punctuation">.</span>validation<span class="token punctuation">.</span></span><span class="token class-name">StateValidation</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>validation<span class="token punctuation">.</span></span><span class="token class-name">Constraint</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>validation<span class="token punctuation">.</span></span><span class="token class-name">Payload</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@Documented</span> <span class="token comment">// 元注解</span>
<span class="token annotation punctuation">@Target</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">ElementType</span><span class="token punctuation">.</span><span class="token constant">FIELD</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 能用在哪里的元注解</span>
<span class="token annotation punctuation">@Retention</span><span class="token punctuation">(</span><span class="token class-name">RetentionPolicy</span><span class="token punctuation">.</span><span class="token constant">RUNTIME</span><span class="token punctuation">)</span> <span class="token comment">// 元注解</span>
<span class="token annotation punctuation">@Constraint</span><span class="token punctuation">(</span>validatedBy <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token class-name">StateValidation</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token comment">// 通过那个类实现注解功能</span>
<span class="token keyword">public</span> <span class="token annotation punctuation">@interface</span> <span class="token class-name">State</span> <span class="token punctuation">{</span>

    <span class="token comment">// 错误提示信息</span>
    <span class="token class-name">String</span> <span class="token function">message</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token string">&quot;state的参数值只能是已发布或者草稿&quot;</span><span class="token punctuation">;</span>

    <span class="token comment">// 分组</span>
    <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">groups</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// 负载，获取到State注解的附加信息</span>
    <span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">Payload</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">payload</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">default</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>注解功能实现类</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>ldlang<span class="token punctuation">.</span>anno<span class="token punctuation">.</span></span><span class="token class-name">State</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>validation<span class="token punctuation">.</span></span><span class="token class-name">ConstraintValidator</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>validation<span class="token punctuation">.</span></span><span class="token class-name">ConstraintValidatorContext</span></span><span class="token punctuation">;</span>

<span class="token comment">// ConstraintValidator&lt;给那个注解提供校验规则, 校验规则的数据类型&gt;</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StateValidation</span> <span class="token keyword">implements</span> <span class="token class-name">ConstraintValidator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">State</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * <span class="token keyword">@param</span> <span class="token parameter">value</span> 校验数据的值
     * <span class="token keyword">@return</span> 返回false则校验不通过，反之则通过
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">isValid</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">,</span> <span class="token class-name">ConstraintValidatorContext</span> constraintValidatorContext<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> value<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;草稿&quot;</span><span class="token punctuation">)</span> <span class="token operator">||</span> value<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;已发布&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h2 id="_4、配置文件说明" tabindex="-1"><a class="header-anchor" href="#_4、配置文件说明" aria-hidden="true">#</a> 4、配置文件说明</h2><h3 id="配置文件支持的路径" tabindex="-1"><a class="header-anchor" href="#配置文件支持的路径" aria-hidden="true">#</a> 配置文件支持的路径</h3><p>按优先级排序</p><blockquote><p>说明：classpath 就是 resources 目录</p></blockquote><ol><li><p>jar 包同级目录的 config 目录下</p></li><li><p>jar 包同级目录的 application.property</p></li><li><p>classpath 下的/config 目录</p></li><li><p>classpath 下根目录的配置文件</p></li></ol><h3 id="多环境配置" tabindex="-1"><a class="header-anchor" href="#多环境配置" aria-hidden="true">#</a> 多环境配置</h3><p>比如开发环境、生产环境等</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>
    <span class="token key atrule">active</span><span class="token punctuation">:</span> pro <span class="token comment">## 指定激活的环境</span>

<span class="token punctuation">---</span>
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">config</span><span class="token punctuation">:</span>
    <span class="token key atrule">activate</span><span class="token punctuation">:</span>
      <span class="token key atrule">on-profile</span><span class="token punctuation">:</span> dev

<span class="token punctuation">---</span>
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8081</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">config</span><span class="token punctuation">:</span>
    <span class="token key atrule">activate</span><span class="token punctuation">:</span>
      <span class="token key atrule">on-profile</span><span class="token punctuation">:</span> pro
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_5、全局异常处理" tabindex="-1"><a class="header-anchor" href="#_5、全局异常处理" aria-hidden="true">#</a> 5、全局异常处理</h2><p>原理：使用<code>@RestControllerAdvice</code>注解对所有的<code>RestController</code>和<code>Controller</code>进行错误的捕获</p><ul><li><h4 id="restcontrolleradvice" tabindex="-1"><a class="header-anchor" href="#restcontrolleradvice" aria-hidden="true">#</a> <code>@RestControllerAdvice</code></h4><p>组合注解，等价于<code>@ControllerAdvice + @ResponseBody</code></p><p>作用是：</p><ul><li><strong>全局生效</strong>：对整个项目中所有 <code>@RestController</code>（或 <code>@Controller</code>）注解的控制器生效；</li><li><strong>异常捕获载体</strong>：标记当前类是「全局异常处理类」，Spring 会自动扫描并注册；</li><li><strong>返回 JSON</strong>：通过 <code>@ResponseBody</code> 将处理结果（<code>Result</code> 对象）直接序列化为 JSON 返回给客户端。</li></ul></li><li><h4 id="exceptionhandler-exception-class" tabindex="-1"><a class="header-anchor" href="#exceptionhandler-exception-class" aria-hidden="true">#</a> <code>@ExceptionHandler(Exception.class)</code></h4><p>异常处理注解，用于标记「处理特定异常的方法」:</p><ul><li><code>Exception.class</code> 表示该方法处理 <strong>所有类型的异常</strong>（<code>Exception</code> 是所有受检异常和非受检异常的父类）；</li><li>当 Controller 中抛出任何 <code>Exception</code> 及其子类异常时，Spring 会自动调用该注解标记的方法。</li></ul></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>ldlang<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">Result</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">StringUtils</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ExceptionHandler</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestControllerAdvice</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestControllerAdvice</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">GlobalExceptionHandler</span> <span class="token punctuation">{</span>

    <span class="token comment">// BusinessException异常处理</span>
    <span class="token comment">// @ExceptionHandler(BusinessException.class)</span>
    <span class="token comment">// public Result handleBusinessException(BusinessException e) {</span>
        <span class="token comment">// 返回业务异常的状态码和消息（假设 Result 有带 code 的构造方法）</span>
       	<span class="token comment">// return Result.error(e.getMessage());</span>
    <span class="token comment">// }</span>

    <span class="token comment">// 捕获所有的异常</span>
    <span class="token annotation punctuation">@ExceptionHandler</span><span class="token punctuation">(</span><span class="token class-name">Exception</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Result</span> <span class="token function">handleException</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Result</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token class-name">StringUtils</span><span class="token punctuation">.</span><span class="token function">hasLength</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">?</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token string">&quot;操作失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6、全局拦截器" tabindex="-1"><a class="header-anchor" href="#_6、全局拦截器" aria-hidden="true">#</a> 6、全局拦截器</h2><ol><li><p>实现拦截器</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>ldlang<span class="token punctuation">.</span>utils<span class="token punctuation">.</span></span><span class="token class-name">JwtUtil</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">jakarta<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">HandlerInterceptor</span></span><span class="token punctuation">;</span>

<span class="token comment">//全局拦截实现</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginInterceptors</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">{</span>

    <span class="token comment">// 请求之前的拦截处理</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> token <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Authorization&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">JwtUtil</span><span class="token punctuation">.</span><span class="token function">parseToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 这里报错则代表token解析错误</span>
            <span class="token comment">// 返回 true 表示放行，false 表示拒绝</span>
            <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 设置响应状态码为401</span>
            response<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">401</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 请求之后的处理</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterCompletion</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token comment">// 清除线程池</span>
        <span class="token class-name">ThreadLocalUtil</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>注册拦截器</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>ldlang<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span></span><span class="token class-name">LoginInterceptors</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">InterceptorRegistry</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebMvcConfigurer</span></span><span class="token punctuation">;</span>

<span class="token comment">// 将全局拦截器注册进来</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">LoginInterceptors</span> loginInterceptors<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">public</span> <span class="token class-name">WebConfig</span><span class="token punctuation">(</span><span class="token class-name">LoginInterceptors</span> loginInterceptors<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>loginInterceptors <span class="token operator">=</span> loginInterceptors<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addInterceptors</span><span class="token punctuation">(</span><span class="token class-name">InterceptorRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 注册拦截器 registry.addInterceptor(loginInterceptors)</span>
        <span class="token comment">// excludePathPatterns(&quot;/user/login&quot;, &quot;/user/register&quot;) 拦截直接放行的接口</span>
        registry<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span>loginInterceptors<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">excludePathPatterns</span><span class="token punctuation">(</span><span class="token string">&quot;/user/login&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/user/register&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h2 id="_7、使用线程池共享状态" tabindex="-1"><a class="header-anchor" href="#_7、使用线程池共享状态" aria-hidden="true">#</a> 7、使用线程池共享状态</h2><ol><li><p>实现线程池工具类</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>ldlang<span class="token punctuation">.</span>utils</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * ThreadLocal 工具类
 */</span>
<span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">&quot;all&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ThreadLocalUtil</span> <span class="token punctuation">{</span>
    <span class="token comment">// 提供ThreadLocal对象,</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">ThreadLocal</span> <span class="token constant">THREAD_LOCAL</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadLocal</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 根据键获取值</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">T</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">)</span> <span class="token constant">THREAD_LOCAL</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 存储键值对</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">set</span><span class="token punctuation">(</span><span class="token class-name">Object</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token constant">THREAD_LOCAL</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 清除ThreadLocal 防止内存泄漏</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token constant">THREAD_LOCAL</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>往线程池存入数据</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> token <span class="token operator">=</span> request<span class="token punctuation">.</span><span class="token function">getHeader</span><span class="token punctuation">(</span><span class="token string">&quot;Authorization&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> claims <span class="token operator">=</span> <span class="token class-name">JwtUtil</span><span class="token punctuation">.</span><span class="token function">parseToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 将解析出来token的Map存入线程中</span>
        <span class="token class-name">ThreadLocalUtil</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>claims<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 返回 true 表示放行，false 表示拒绝</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 设置响应状态码为401</span>
        response<span class="token punctuation">.</span><span class="token function">setStatus</span><span class="token punctuation">(</span><span class="token number">401</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>读取线程池的数据</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// 从线程池中获取token存入的信息</span>
<span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> tokenMap <span class="token operator">=</span> <span class="token class-name">ThreadLocalUtil</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> username <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span> tokenMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>销毁线程池</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// 请求之后的处理</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">afterCompletion</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">,</span> <span class="token class-name">Exception</span> ex<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token comment">// 清除线程池</span>
    <span class="token class-name">ThreadLocalUtil</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script type="module" src="/lin-note/assets/app-63ba67c3.js" defer></script>
  </body>
</html>
