<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.67">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <title>约束 (constraint) | 学海无涯，苦乐自知。</title><meta name="description" content="ldlang-note">
    <link rel="preload" href="/lin-note/assets/style-c9ac8601.css" as="style"><link rel="stylesheet" href="/lin-note/assets/style-c9ac8601.css">
    <link rel="modulepreload" href="/lin-note/assets/app-70f1c539.js"><link rel="modulepreload" href="/lin-note/assets/constraint.html-75db481b.js"><link rel="modulepreload" href="/lin-note/assets/constraint.html-337f4a8c.js"><link rel="prefetch" href="/lin-note/assets/index.html-7ac247b2.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-718d9233.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-bdb72a66.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-abf33b61.js" as="script"><link rel="prefetch" href="/lin-note/assets/css-selector.html-4ddc1312.js" as="script"><link rel="prefetch" href="/lin-note/assets/grid.html-83a11ef6.js" as="script"><link rel="prefetch" href="/lin-note/assets/transition-and-animation.html-4d56ead1.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-0a468fc3.js" as="script"><link rel="prefetch" href="/lin-note/assets/git-skill.html-78893695.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-202c2065.js" as="script"><link rel="prefetch" href="/lin-note/assets/TS.html-41346a6b.js" as="script"><link rel="prefetch" href="/lin-note/assets/base-interview.html-8b639c77.js" as="script"><link rel="prefetch" href="/lin-note/assets/css.html-4c5ac7b8.js" as="script"><link rel="prefetch" href="/lin-note/assets/js.html-52fecadb.js" as="script"><link rel="prefetch" href="/lin-note/assets/vue.html-c8f7889b.js" as="script"><link rel="prefetch" href="/lin-note/assets/IO-stream.html-68b6927a.js" as="script"><link rel="prefetch" href="/lin-note/assets/Mybatis.html-490c297b.js" as="script"><link rel="prefetch" href="/lin-note/assets/annotation.html-ef3f1255.js" as="script"><link rel="prefetch" href="/lin-note/assets/collection.html-1b4a10e7.js" as="script"><link rel="prefetch" href="/lin-note/assets/javaWeb.html-f52915f0.js" as="script"><link rel="prefetch" href="/lin-note/assets/multithreading.html-d702fa28.js" as="script"><link rel="prefetch" href="/lin-note/assets/network.html-e0355c50.js" as="script"><link rel="prefetch" href="/lin-note/assets/object.html-a4c3db82.js" as="script"><link rel="prefetch" href="/lin-note/assets/linux.html-320a5acf.js" as="script"><link rel="prefetch" href="/lin-note/assets/shell.html-c4fc9e76.js" as="script"><link rel="prefetch" href="/lin-note/assets/DML.html-7ae20d69.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-e1b2afe1.js" as="script"><link rel="prefetch" href="/lin-note/assets/SELECT.html-9b1624cf.js" as="script"><link rel="prefetch" href="/lin-note/assets/aggregate-function.html-f7af8e65.js" as="script"><link rel="prefetch" href="/lin-note/assets/basis.html-6ba50d86.js" as="script"><link rel="prefetch" href="/lin-note/assets/dataType.html-230e12dd.js" as="script"><link rel="prefetch" href="/lin-note/assets/database-operation.html-c8be8c23.js" as="script"><link rel="prefetch" href="/lin-note/assets/function.html-76b49210.js" as="script"><link rel="prefetch" href="/lin-note/assets/multiple-select.html-71f721b6.js" as="script"><link rel="prefetch" href="/lin-note/assets/operator.html-bfd2d6f0.js" as="script"><link rel="prefetch" href="/lin-note/assets/sort-and-limit.html-1fec50f4.js" as="script"><link rel="prefetch" href="/lin-note/assets/subquery.html-044f542d.js" as="script"><link rel="prefetch" href="/lin-note/assets/express.html-ad7b92b8.js" as="script"><link rel="prefetch" href="/lin-note/assets/node.html-38b480a5.js" as="script"><link rel="prefetch" href="/lin-note/assets/plugin.html-e30be15e.js" as="script"><link rel="prefetch" href="/lin-note/assets/pnpm.html-f2c96aa8.js" as="script"><link rel="prefetch" href="/lin-note/assets/Narrowing.html-06574cd5.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-a0eacf46.js" as="script"><link rel="prefetch" href="/lin-note/assets/class.html-10a3caf8.js" as="script"><link rel="prefetch" href="/lin-note/assets/enum.html-d904315e.js" as="script"><link rel="prefetch" href="/lin-note/assets/everyday-types.html-b8e5db3f.js" as="script"><link rel="prefetch" href="/lin-note/assets/modules.html-e823bfb6.js" as="script"><link rel="prefetch" href="/lin-note/assets/more-on-function.html-be135352.js" as="script"><link rel="prefetch" href="/lin-note/assets/object-types.html-9a5724dc.js" as="script"><link rel="prefetch" href="/lin-note/assets/type-mainpulation.html-5201f613.js" as="script"><link rel="prefetch" href="/lin-note/assets/utils-type.html-ee069961.js" as="script"><link rel="prefetch" href="/lin-note/assets/jsx.html-da5a2044.js" as="script"><link rel="prefetch" href="/lin-note/assets/nuxt.html-7438dc8a.js" as="script"><link rel="prefetch" href="/lin-note/assets/plugins.html-01388666.js" as="script"><link rel="prefetch" href="/lin-note/assets/skill.html-a3f2acf4.js" as="script"><link rel="prefetch" href="/lin-note/assets/vue2.html-3ad6d4b1.js" as="script"><link rel="prefetch" href="/lin-note/assets/vue3.html-b4caf89f.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-a1e184d1.js" as="script"><link rel="prefetch" href="/lin-note/assets/class.html-40b0bc16.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-13189777.js" as="script"><link rel="prefetch" href="/lin-note/assets/canvas.html-55a78af2.js" as="script"><link rel="prefetch" href="/lin-note/assets/js-skill.html-3fdea7c0.js" as="script"><link rel="prefetch" href="/lin-note/assets/misunderstanding.html-90c92a54.js" as="script"><link rel="prefetch" href="/lin-note/assets/zoom-table.html-e0f94215.js" as="script"><link rel="prefetch" href="/lin-note/assets/BOM.html-81b04ac3.js" as="script"><link rel="prefetch" href="/lin-note/assets/DOM-extend.html-84f36b23.js" as="script"><link rel="prefetch" href="/lin-note/assets/DOM.html-7ed6ede7.js" as="script"><link rel="prefetch" href="/lin-note/assets/DOM2-and-DOM3.html-29e2b734.js" as="script"><link rel="prefetch" href="/lin-note/assets/JSON.html-7c3e9161.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-9f0a296d.js" as="script"><link rel="prefetch" href="/lin-note/assets/Web-Socket.html-7e320e2a.js" as="script"><link rel="prefetch" href="/lin-note/assets/animation-and-canvas.html-46e7fe83.js" as="script"><link rel="prefetch" href="/lin-note/assets/basis.html-47a878bd.js" as="script"><link rel="prefetch" href="/lin-note/assets/err-and-debug.html-94661d9d.js" as="script"><link rel="prefetch" href="/lin-note/assets/event.html-c8290ac6.js" as="script"><link rel="prefetch" href="/lin-note/assets/form.html-2f1684a1.js" as="script"><link rel="prefetch" href="/lin-note/assets/function.html-d13369f3.js" as="script"><link rel="prefetch" href="/lin-note/assets/javaScript-API.html-751e6d18.js" as="script"><link rel="prefetch" href="/lin-note/assets/promise.html-adab6fac.js" as="script"><link rel="prefetch" href="/lin-note/assets/reference-type.html-7ff79665.js" as="script"><link rel="prefetch" href="/lin-note/assets/variable.html-0a4bf3bf.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-979b9e3d.js" as="script"><link rel="prefetch" href="/lin-note/assets/abnormal.html-65d1214f.js" as="script"><link rel="prefetch" href="/lin-note/assets/array.html-20963356.js" as="script"><link rel="prefetch" href="/lin-note/assets/basics.html-13dab0a3.js" as="script"><link rel="prefetch" href="/lin-note/assets/methods.html-6dbc0bad.js" as="script"><link rel="prefetch" href="/lin-note/assets/object-oriented.html-0b19287c.js" as="script"><link rel="prefetch" href="/lin-note/assets/process-control.html-c6674f8a.js" as="script"><link rel="prefetch" href="/lin-note/assets/express.html-f6d95fa0.js" as="script"><link rel="prefetch" href="/lin-note/assets/express文档笔记.html-3f10b946.js" as="script"><link rel="prefetch" href="/lin-note/assets/jwt(token)的使用.html-e7648ad6.js" as="script"><link rel="prefetch" href="/lin-note/assets/node.js.html-db9add14.js" as="script"><link rel="prefetch" href="/lin-note/assets/连接mysql.html-25515e3b.js" as="script"><link rel="prefetch" href="/lin-note/assets/项目笔记.html-cbc941c1.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-c883f899.js" as="script"><link rel="prefetch" href="/lin-note/assets/command-line.html-9b574780.js" as="script"><link rel="prefetch" href="/lin-note/assets/package-json.html-898f4668.js" as="script"><link rel="prefetch" href="/lin-note/assets/quick-acting.html-d97e8173.js" as="script"><link rel="prefetch" href="/lin-note/assets/annotation.html-be1dd1cd.js" as="script"><link rel="prefetch" href="/lin-note/assets/declaration.html-967850da.js" as="script"><link rel="prefetch" href="/lin-note/assets/declare.html-ff275eb4.js" as="script"><link rel="prefetch" href="/lin-note/assets/genericity.html-3fe1be85.js" as="script"><link rel="prefetch" href="/lin-note/assets/interface.html-a126fa06.js" as="script"><link rel="prefetch" href="/lin-note/assets/type-assertion.html-f63e7a7f.js" as="script"><link rel="prefetch" href="/lin-note/assets/type-map.html-10bb8ada.js" as="script"><link rel="prefetch" href="/lin-note/assets/type-operator.html-f9425183.js" as="script"><link rel="prefetch" href="/lin-note/assets/ts笔记.html-afe32c5d.js" as="script"><link rel="prefetch" href="/lin-note/assets/ts编译选项.html-ba46cae9.js" as="script"><link rel="prefetch" href="/lin-note/assets/typescript.html-dda20d39.js" as="script"><link rel="prefetch" href="/lin-note/assets/eslint配置.html-c06c6b56.js" as="script"><link rel="prefetch" href="/lin-note/assets/vue3笔记.html-16995a03.js" as="script"><link rel="prefetch" href="/lin-note/assets/404.html-f9875e7b.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-e3bf6148.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-1b6135c8.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-2e4f0072.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-0590853e.js" as="script"><link rel="prefetch" href="/lin-note/assets/css-selector.html-aa847371.js" as="script"><link rel="prefetch" href="/lin-note/assets/grid.html-73cf8826.js" as="script"><link rel="prefetch" href="/lin-note/assets/transition-and-animation.html-3f9e779e.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-f6b5b4db.js" as="script"><link rel="prefetch" href="/lin-note/assets/git-skill.html-e21c43b5.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-54da6603.js" as="script"><link rel="prefetch" href="/lin-note/assets/TS.html-57130cd8.js" as="script"><link rel="prefetch" href="/lin-note/assets/base-interview.html-661bd5c8.js" as="script"><link rel="prefetch" href="/lin-note/assets/css.html-c2cac688.js" as="script"><link rel="prefetch" href="/lin-note/assets/js.html-b1ac7aac.js" as="script"><link rel="prefetch" href="/lin-note/assets/vue.html-3ea10c23.js" as="script"><link rel="prefetch" href="/lin-note/assets/IO-stream.html-4ec15033.js" as="script"><link rel="prefetch" href="/lin-note/assets/Mybatis.html-271d9d32.js" as="script"><link rel="prefetch" href="/lin-note/assets/annotation.html-48e59b70.js" as="script"><link rel="prefetch" href="/lin-note/assets/collection.html-d312c036.js" as="script"><link rel="prefetch" href="/lin-note/assets/javaWeb.html-526b5610.js" as="script"><link rel="prefetch" href="/lin-note/assets/multithreading.html-bccc1ab9.js" as="script"><link rel="prefetch" href="/lin-note/assets/network.html-2132156a.js" as="script"><link rel="prefetch" href="/lin-note/assets/object.html-264ec8f3.js" as="script"><link rel="prefetch" href="/lin-note/assets/linux.html-8bdae600.js" as="script"><link rel="prefetch" href="/lin-note/assets/shell.html-828cb451.js" as="script"><link rel="prefetch" href="/lin-note/assets/DML.html-ec765d97.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-dedf5032.js" as="script"><link rel="prefetch" href="/lin-note/assets/SELECT.html-8552ccfa.js" as="script"><link rel="prefetch" href="/lin-note/assets/aggregate-function.html-e3f4f8e0.js" as="script"><link rel="prefetch" href="/lin-note/assets/basis.html-f56ccc4e.js" as="script"><link rel="prefetch" href="/lin-note/assets/dataType.html-3db52c6f.js" as="script"><link rel="prefetch" href="/lin-note/assets/database-operation.html-0839fc83.js" as="script"><link rel="prefetch" href="/lin-note/assets/function.html-046e9885.js" as="script"><link rel="prefetch" href="/lin-note/assets/multiple-select.html-513bec28.js" as="script"><link rel="prefetch" href="/lin-note/assets/operator.html-b2c7647f.js" as="script"><link rel="prefetch" href="/lin-note/assets/sort-and-limit.html-b38261d8.js" as="script"><link rel="prefetch" href="/lin-note/assets/subquery.html-e58743a9.js" as="script"><link rel="prefetch" href="/lin-note/assets/express.html-1113e0d1.js" as="script"><link rel="prefetch" href="/lin-note/assets/node.html-368d0dcb.js" as="script"><link rel="prefetch" href="/lin-note/assets/plugin.html-681c0a7d.js" as="script"><link rel="prefetch" href="/lin-note/assets/pnpm.html-76a699b1.js" as="script"><link rel="prefetch" href="/lin-note/assets/Narrowing.html-a27c3a94.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-2a8e7f00.js" as="script"><link rel="prefetch" href="/lin-note/assets/class.html-6161c4cc.js" as="script"><link rel="prefetch" href="/lin-note/assets/enum.html-16da9fbe.js" as="script"><link rel="prefetch" href="/lin-note/assets/everyday-types.html-ad9ad385.js" as="script"><link rel="prefetch" href="/lin-note/assets/modules.html-897b2082.js" as="script"><link rel="prefetch" href="/lin-note/assets/more-on-function.html-c0813ccd.js" as="script"><link rel="prefetch" href="/lin-note/assets/object-types.html-7c37bbed.js" as="script"><link rel="prefetch" href="/lin-note/assets/type-mainpulation.html-273823a3.js" as="script"><link rel="prefetch" href="/lin-note/assets/utils-type.html-2e3d7ebf.js" as="script"><link rel="prefetch" href="/lin-note/assets/jsx.html-5295b2e2.js" as="script"><link rel="prefetch" href="/lin-note/assets/nuxt.html-560d632c.js" as="script"><link rel="prefetch" href="/lin-note/assets/plugins.html-9538510e.js" as="script"><link rel="prefetch" href="/lin-note/assets/skill.html-56e5ffe2.js" as="script"><link rel="prefetch" href="/lin-note/assets/vue2.html-02644397.js" as="script"><link rel="prefetch" href="/lin-note/assets/vue3.html-22e9a911.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-01a30a8d.js" as="script"><link rel="prefetch" href="/lin-note/assets/class.html-e4396411.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-a2fe260a.js" as="script"><link rel="prefetch" href="/lin-note/assets/canvas.html-d0eab0dd.js" as="script"><link rel="prefetch" href="/lin-note/assets/js-skill.html-46d331ad.js" as="script"><link rel="prefetch" href="/lin-note/assets/misunderstanding.html-3efab05f.js" as="script"><link rel="prefetch" href="/lin-note/assets/zoom-table.html-28470587.js" as="script"><link rel="prefetch" href="/lin-note/assets/BOM.html-0574d3e8.js" as="script"><link rel="prefetch" href="/lin-note/assets/DOM-extend.html-a379d74e.js" as="script"><link rel="prefetch" href="/lin-note/assets/DOM.html-1997d211.js" as="script"><link rel="prefetch" href="/lin-note/assets/DOM2-and-DOM3.html-4159d386.js" as="script"><link rel="prefetch" href="/lin-note/assets/JSON.html-d5b5dee2.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-d53bd839.js" as="script"><link rel="prefetch" href="/lin-note/assets/Web-Socket.html-869ce3b4.js" as="script"><link rel="prefetch" href="/lin-note/assets/animation-and-canvas.html-5491a9ca.js" as="script"><link rel="prefetch" href="/lin-note/assets/basis.html-8882dda9.js" as="script"><link rel="prefetch" href="/lin-note/assets/err-and-debug.html-572abbce.js" as="script"><link rel="prefetch" href="/lin-note/assets/event.html-29af1619.js" as="script"><link rel="prefetch" href="/lin-note/assets/form.html-9e7f95f6.js" as="script"><link rel="prefetch" href="/lin-note/assets/function.html-1bdbe545.js" as="script"><link rel="prefetch" href="/lin-note/assets/javaScript-API.html-bdaf7715.js" as="script"><link rel="prefetch" href="/lin-note/assets/promise.html-01005321.js" as="script"><link rel="prefetch" href="/lin-note/assets/reference-type.html-dff93fed.js" as="script"><link rel="prefetch" href="/lin-note/assets/variable.html-7b103074.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-3f0f3b7e.js" as="script"><link rel="prefetch" href="/lin-note/assets/abnormal.html-a43f0aec.js" as="script"><link rel="prefetch" href="/lin-note/assets/array.html-18f4bc0a.js" as="script"><link rel="prefetch" href="/lin-note/assets/basics.html-3f8cd396.js" as="script"><link rel="prefetch" href="/lin-note/assets/methods.html-3fe272dd.js" as="script"><link rel="prefetch" href="/lin-note/assets/object-oriented.html-c330d249.js" as="script"><link rel="prefetch" href="/lin-note/assets/process-control.html-1cb4e313.js" as="script"><link rel="prefetch" href="/lin-note/assets/express.html-569c0b8e.js" as="script"><link rel="prefetch" href="/lin-note/assets/express文档笔记.html-d7b139be.js" as="script"><link rel="prefetch" href="/lin-note/assets/jwt(token)的使用.html-e6c7c2f2.js" as="script"><link rel="prefetch" href="/lin-note/assets/node.js.html-871b7a75.js" as="script"><link rel="prefetch" href="/lin-note/assets/连接mysql.html-7402d90b.js" as="script"><link rel="prefetch" href="/lin-note/assets/项目笔记.html-e829c2f7.js" as="script"><link rel="prefetch" href="/lin-note/assets/index.html-f45bf5a8.js" as="script"><link rel="prefetch" href="/lin-note/assets/command-line.html-e98e7393.js" as="script"><link rel="prefetch" href="/lin-note/assets/package-json.html-f8428bf1.js" as="script"><link rel="prefetch" href="/lin-note/assets/quick-acting.html-48655332.js" as="script"><link rel="prefetch" href="/lin-note/assets/annotation.html-748c4ca3.js" as="script"><link rel="prefetch" href="/lin-note/assets/declaration.html-d2c11a90.js" as="script"><link rel="prefetch" href="/lin-note/assets/declare.html-1696df66.js" as="script"><link rel="prefetch" href="/lin-note/assets/genericity.html-db0e5832.js" as="script"><link rel="prefetch" href="/lin-note/assets/interface.html-1570ed92.js" as="script"><link rel="prefetch" href="/lin-note/assets/type-assertion.html-954e86c5.js" as="script"><link rel="prefetch" href="/lin-note/assets/type-map.html-b4b2986c.js" as="script"><link rel="prefetch" href="/lin-note/assets/type-operator.html-9493e47b.js" as="script"><link rel="prefetch" href="/lin-note/assets/ts笔记.html-2ca3d173.js" as="script"><link rel="prefetch" href="/lin-note/assets/ts编译选项.html-e8caa553.js" as="script"><link rel="prefetch" href="/lin-note/assets/typescript.html-6b1a175a.js" as="script"><link rel="prefetch" href="/lin-note/assets/eslint配置.html-5b7780a2.js" as="script"><link rel="prefetch" href="/lin-note/assets/vue3笔记.html-2be4624d.js" as="script"><link rel="prefetch" href="/lin-note/assets/404.html-a593eb2e.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/lin-note/" class=""><!----><span class="site-name">学海无涯，苦乐自知。</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/lin-note/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="javaScript"><span class="title">javaScript</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="javaScript"><span class="title">javaScript</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/javaScript/js-note/" class="" aria-label="js"><!--[--><!--]--> js <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/javaScript/ES6/" class="" aria-label="ES6"><!--[--><!--]--> ES6 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/javaScript/red-book/" class="" aria-label="红宝书笔记"><!--[--><!--]--> 红宝书笔记 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/lin-note/css/" class="" aria-label="css"><!--[--><!--]--> css <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="node"><span class="title">node</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="node"><span class="title">node</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/node/node.md" class="" aria-label="node"><!--[--><!--]--> node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/node/express.md" class="" aria-label="express"><!--[--><!--]--> express <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/node/plugin.md" class="" aria-label="express插件"><!--[--><!--]--> express插件 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="git"><span class="title">git</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="git"><span class="title">git</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/git/" class="" aria-label="git"><!--[--><!--]--> git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/git/git-skill.md" class="" aria-label="git技巧"><!--[--><!--]--> git技巧 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="包管理"><span class="title">包管理</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="包管理"><span class="title">包管理</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/pack/npm/" class="" aria-label="npm"><!--[--><!--]--> npm <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/pack/pnpm.md" class="" aria-label="pnpm"><!--[--><!--]--> pnpm <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="vue"><span class="title">vue</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="vue"><span class="title">vue</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/vue/vue2.md" class="" aria-label="vue2"><!--[--><!--]--> vue2 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/vue3.md" class="" aria-label="vue3"><!--[--><!--]--> vue3 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/nuxt.md" class="" aria-label="nuxt"><!--[--><!--]--> nuxt <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/jsx.md" class="" aria-label="jsx"><!--[--><!--]--> jsx <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/plugins.md" class="" aria-label="常用插件"><!--[--><!--]--> 常用插件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/skill.md" class="" aria-label="技巧积累"><!--[--><!--]--> 技巧积累 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/lin-note/ts/" class="" aria-label="ts"><!--[--><!--]--> ts <!--[--><!--]--></a></div><div class="navbar-item"><a href="/lin-note/mysql/" class="router-link-active" aria-label="mysql"><!--[--><!--]--> mysql <!--[--><!--]--></a></div><div class="navbar-item"><a href="/lin-note/interview/" class="" aria-label="前端面试题"><!--[--><!--]--> 前端面试题 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java"><span class="title">Java</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/java/javaSE/" class="" aria-label="javaSE"><!--[--><!--]--> javaSE <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/object.md" class="" aria-label="常用类"><!--[--><!--]--> 常用类 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/collection.md" class="" aria-label="集合"><!--[--><!--]--> 集合 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/IO-stream.md" class="" aria-label="IO"><!--[--><!--]--> IO <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/multithreading.md" class="" aria-label="多线程"><!--[--><!--]--> 多线程 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/network.md" class="" aria-label="网络编程"><!--[--><!--]--> 网络编程 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/annotation.md" class="" aria-label="注解和反射"><!--[--><!--]--> 注解和反射 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/javaWeb.md" class="" aria-label="javaWeb"><!--[--><!--]--> javaWeb <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/Mybatis.md" class="" aria-label="Mybatis"><!--[--><!--]--> Mybatis <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="linux"><span class="title">linux</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="linux"><span class="title">linux</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/linux/linux.md" class="" aria-label="linux"><!--[--><!--]--> linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/linux/shell.md" class="" aria-label="shell"><!--[--><!--]--> shell <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/lin-note/Nginx/" class="" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg class="icon" focusable="false" viewBox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="icon" focusable="false" viewBox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="搜索" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/lin-note/" class="" aria-label="首页"><!--[--><!--]--> 首页 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="javaScript"><span class="title">javaScript</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="javaScript"><span class="title">javaScript</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/javaScript/js-note/" class="" aria-label="js"><!--[--><!--]--> js <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/javaScript/ES6/" class="" aria-label="ES6"><!--[--><!--]--> ES6 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/javaScript/red-book/" class="" aria-label="红宝书笔记"><!--[--><!--]--> 红宝书笔记 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/lin-note/css/" class="" aria-label="css"><!--[--><!--]--> css <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="node"><span class="title">node</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="node"><span class="title">node</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/node/node.md" class="" aria-label="node"><!--[--><!--]--> node <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/node/express.md" class="" aria-label="express"><!--[--><!--]--> express <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/node/plugin.md" class="" aria-label="express插件"><!--[--><!--]--> express插件 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="git"><span class="title">git</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="git"><span class="title">git</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/git/" class="" aria-label="git"><!--[--><!--]--> git <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/git/git-skill.md" class="" aria-label="git技巧"><!--[--><!--]--> git技巧 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="包管理"><span class="title">包管理</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="包管理"><span class="title">包管理</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/pack/npm/" class="" aria-label="npm"><!--[--><!--]--> npm <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/pack/pnpm.md" class="" aria-label="pnpm"><!--[--><!--]--> pnpm <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="vue"><span class="title">vue</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="vue"><span class="title">vue</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/vue/vue2.md" class="" aria-label="vue2"><!--[--><!--]--> vue2 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/vue3.md" class="" aria-label="vue3"><!--[--><!--]--> vue3 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/nuxt.md" class="" aria-label="nuxt"><!--[--><!--]--> nuxt <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/jsx.md" class="" aria-label="jsx"><!--[--><!--]--> jsx <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/plugins.md" class="" aria-label="常用插件"><!--[--><!--]--> 常用插件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/vue/skill.md" class="" aria-label="技巧积累"><!--[--><!--]--> 技巧积累 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/lin-note/ts/" class="" aria-label="ts"><!--[--><!--]--> ts <!--[--><!--]--></a></div><div class="navbar-item"><a href="/lin-note/mysql/" class="router-link-active" aria-label="mysql"><!--[--><!--]--> mysql <!--[--><!--]--></a></div><div class="navbar-item"><a href="/lin-note/interview/" class="" aria-label="前端面试题"><!--[--><!--]--> 前端面试题 <!--[--><!--]--></a></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java"><span class="title">Java</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/java/javaSE/" class="" aria-label="javaSE"><!--[--><!--]--> javaSE <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/object.md" class="" aria-label="常用类"><!--[--><!--]--> 常用类 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/collection.md" class="" aria-label="集合"><!--[--><!--]--> 集合 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/IO-stream.md" class="" aria-label="IO"><!--[--><!--]--> IO <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/multithreading.md" class="" aria-label="多线程"><!--[--><!--]--> 多线程 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/network.md" class="" aria-label="网络编程"><!--[--><!--]--> 网络编程 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/annotation.md" class="" aria-label="注解和反射"><!--[--><!--]--> 注解和反射 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/javaWeb.md" class="" aria-label="javaWeb"><!--[--><!--]--> javaWeb <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/java/Mybatis.md" class="" aria-label="Mybatis"><!--[--><!--]--> Mybatis <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="linux"><span class="title">linux</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="linux"><span class="title">linux</span><span class="right arrow"></span></button><ul class="navbar-dropdown" style="display:none;"><!--[--><li class="navbar-dropdown-item"><a href="/lin-note/linux/linux.md" class="" aria-label="linux"><!--[--><!--]--> linux <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/lin-note/linux/shell.md" class="" aria-label="shell"><!--[--><!--]--> shell <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><a href="/lin-note/Nginx/" class="" aria-label="Nginx"><!--[--><!--]--> Nginx <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">约束 (constraint) <!----></p><ul class="sidebar-item-children" style=""><!--[--><li><a aria-current="page" href="/lin-note/mysql/constraint.html#约束的分类" class="router-link-active router-link-exact-active sidebar-item" aria-label="约束的分类"><!--[--><!--]--> 约束的分类 <!--[--><!--]--></a><ul class="sidebar-item-children" style=""><!--[--><li><a aria-current="page" href="/lin-note/mysql/constraint.html#非空约束-not-null" class="router-link-active router-link-exact-active sidebar-item" aria-label="非空约束 (NOT NULL)"><!--[--><!--]--> 非空约束 (NOT NULL) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/lin-note/mysql/constraint.html#唯一性约束-unique" class="router-link-active router-link-exact-active sidebar-item" aria-label="唯一性约束 (UNIQUE)"><!--[--><!--]--> 唯一性约束 (UNIQUE) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/lin-note/mysql/constraint.html#主键约束-primary-key" class="router-link-active router-link-exact-active sidebar-item" aria-label="主键约束 (PRIMARY KEY )"><!--[--><!--]--> 主键约束 (PRIMARY KEY ) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/lin-note/mysql/constraint.html#自增列-auto-increment" class="router-link-active router-link-exact-active sidebar-item" aria-label="自增列 (AUTO_INCREMENT)"><!--[--><!--]--> 自增列 (AUTO_INCREMENT) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/lin-note/mysql/constraint.html#外键约束-foreign-key" class="router-link-active router-link-exact-active sidebar-item" aria-label="外键约束 (FOREIGN KEY)"><!--[--><!--]--> 外键约束 (FOREIGN KEY) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/lin-note/mysql/constraint.html#检查约束-check" class="router-link-active router-link-exact-active sidebar-item" aria-label="检查约束 (check)"><!--[--><!--]--> 检查约束 (check) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/lin-note/mysql/constraint.html#默认值约束-default" class="router-link-active router-link-exact-active sidebar-item" aria-label="默认值约束 (default)"><!--[--><!--]--> 默认值约束 (default) <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h1 id="约束-constraint" tabindex="-1"><a class="header-anchor" href="#约束-constraint" aria-hidden="true">#</a> 约束 (constraint)</h1><p>为了保证数据的完整性，SQL 规范以约束的方式对<strong>表数据进行额外的条件限制</strong>。从以下四个方面考虑：</p><ul><li><code>实体完整性（Entity Integrity）</code></li><li><code>域完整性（Domain Integrity）</code></li><li><code>引用完整性（Referential Integrity）</code></li><li><code>用户自定义完整性（User-defined Integrity）</code></li></ul><p>约束是表级的强制规定。可以在<strong>创建表时规定约束（通过 CREATE TABLE 语句）</strong>，或者在<strong>表创建之后通过 ALTER TABLE 语句规定约束</strong>。</p><h2 id="约束的分类" tabindex="-1"><a class="header-anchor" href="#约束的分类" aria-hidden="true">#</a> 约束的分类</h2><ul><li>**根据约束数据列的限制，**约束可分为： <ul><li><strong>单列约束</strong>：每个约束只约束一列</li><li><strong>多列约束</strong>：每个约束可约束多列数据</li></ul></li><li><strong>根据约束的作用范围</strong>，约束可分为： <ul><li><strong>列级约束</strong>：只能作用在一个列上，跟在列的定义后面</li><li><strong>表级约束</strong>：可以作用在多个列上，不与列一起，而是单独定义</li></ul></li></ul><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>			位置			支持的约束类型					是否可以起约束名
列级约束：	列的后面		语法都支持，但外键没有效果		不可以
表级约束：	所有列的下面	   默认和非空不支持，其他支持	   可以（主键没有效果）
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><strong>根据约束起的作用</strong>，约束可分为： <ul><li><strong>NOT NULL</strong> <strong>非空约束，规定某个字段不能为空</strong></li><li><strong>UNIQUE</strong> <strong>唯一约束</strong>，<strong>规定某个字段在整个表中是唯一的</strong></li><li><strong>PRIMARY KEY 主键(非空且唯一)约束</strong></li><li><strong>FOREIGN KEY</strong> <strong>外键约束</strong></li><li><strong>CHECK</strong> <strong>检查约束</strong></li><li><strong>DEFAULT</strong> <strong>默认值约束</strong></li></ul></li></ul><blockquote><p>注意： MySQL 不支持 check 约束，但可以使用 check 约束，而没有任何效果</p></blockquote><ul><li><p>查看某个表已有的约束</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">#information_schema数据库名（系统库）</span>
<span class="token comment">#table_constraints表名称（专门存储各个表的约束）</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span>table_constraints
<span class="token keyword">WHERE</span> table_name <span class="token operator">=</span> <span class="token string">&#39;表名称&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="非空约束-not-null" tabindex="-1"><a class="header-anchor" href="#非空约束-not-null" aria-hidden="true">#</a> 非空约束 (NOT NULL)</h3><p>限定某个字段/某列的值不允许为空。</p><h4 id="特点" tabindex="-1"><a class="header-anchor" href="#特点" aria-hidden="true">#</a> 特点</h4><ul><li>默认，所有的类型的值都可以是 NULL，包括 INT、FLOAT 等数据类型</li><li>非空约束只能出现在表对象的列上，只能某个列单独限定非空，不能组合非空</li><li>一个表可以有很多列都分别限定了非空</li><li>空字符串&#39;&#39;不等于 NULL，0 也不等于 NULL</li></ul><h4 id="设置非空约束" tabindex="-1"><a class="header-anchor" href="#设置非空约束" aria-hidden="true">#</a> 设置非空约束</h4><ol><li><p>建表时设置约束</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> 表名称<span class="token punctuation">(</span>
	字段名  数据类型<span class="token punctuation">,</span>
    字段名  数据类型 <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    字段名  数据类型 <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>修改表时设置约束</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> 表名称 <span class="token keyword">modify</span> 字段名 数据类型 <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>例：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> emp
<span class="token keyword">MODIFY</span> sex <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>删除非空约束</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">#去掉not null，相当于修改某个非注解字段，该字段允许为空</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> 表名称 <span class="token keyword">modify</span> 字段名 数据类型 <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>或</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">#去掉not null，相当于修改某个非注解字段，该字段允许为空</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> 表名称 <span class="token keyword">modify</span> 字段名 数据类型<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="唯一性约束-unique" tabindex="-1"><a class="header-anchor" href="#唯一性约束-unique" aria-hidden="true">#</a> 唯一性约束 (UNIQUE)</h3><p>用来限制某个字段/某列的值不能重复。</p><ul><li>同一个表可以有多个唯一约束。</li><li>唯一约束可以是某一个列的值唯一，也可以多个列组合的值唯一。</li><li>唯一性约束允许列值为空。</li><li>在创建唯一约束的时候，如果不给唯一约束命名，就默认和列名相同。</li><li><strong>MySQL 会给唯一约束的列上默认创建一个唯一索引。</strong></li></ul><ol><li><p>建表时设置唯一约束</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> 表名称<span class="token punctuation">(</span>
	字段名  数据类型<span class="token punctuation">,</span>
    字段名  数据类型  <span class="token keyword">unique</span><span class="token punctuation">,</span>
    字段名  数据类型  <span class="token keyword">unique</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> 表名称<span class="token punctuation">(</span>
	字段名  数据类型<span class="token punctuation">,</span>
    字段名  数据类型<span class="token punctuation">,</span>
    <span class="token comment">-- 表级约束语法</span>
    <span class="token punctuation">[</span><span class="token keyword">constraint</span> 自定义约束名<span class="token punctuation">]</span> <span class="token keyword">unique</span> <span class="token keyword">key</span><span class="token punctuation">(</span>字段名<span class="token number">1</span><span class="token punctuation">,</span> 字段名<span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>同时指定两个或以上字段为 unique，则是这两个字段都同时重复才算重复，否则不算重复</p></blockquote><p>例：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> student<span class="token punctuation">(</span>
	id <span class="token keyword">int</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    phone <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span> <span class="token keyword">unique</span><span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">USER</span><span class="token punctuation">(</span>
 id <span class="token keyword">INT</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
 NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 PASSWORD <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
 <span class="token comment">-- 使用表级约束语法</span>
 <span class="token keyword">CONSTRAINT</span> name_pwd <span class="token keyword">UNIQUE</span><span class="token punctuation">(</span>NAME<span class="token punctuation">,</span>PASSWORD<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>修改表时指定唯一约束</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment">-- 字段列表中如果是一个字段，表示该列的值唯一。如果是两个或更多个字段，那么复合唯一，即多个字段的组合是唯一的</span>

<span class="token comment">-- 方式1：</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> 表名称 <span class="token keyword">add</span> <span class="token keyword">unique</span> <span class="token keyword">key</span><span class="token punctuation">(</span>字段列表<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- 方式2：</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> 表名称 <span class="token keyword">modify</span> 字段名 字段类型 <span class="token keyword">unique</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token keyword">USER</span>
<span class="token keyword">ADD</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">(</span>NAME<span class="token punctuation">,</span>PASSWORD<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token keyword">USER</span>
<span class="token keyword">ADD</span> <span class="token keyword">CONSTRAINT</span> uk_name_pwd <span class="token keyword">UNIQUE</span><span class="token punctuation">(</span>NAME<span class="token punctuation">,</span>PASSWORD<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> <span class="token keyword">USER</span>
<span class="token keyword">MODIFY</span> NAME <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>复合唯一约束</p><p>字段列表中写的是多个字段名，多个字段名用逗号分隔，表示那么是复合唯一，即多个字段的组合是唯一的。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> 表名称<span class="token punctuation">(</span>
	字段名  数据类型<span class="token punctuation">,</span>
    字段名  数据类型<span class="token punctuation">,</span>
    字段名  数据类型<span class="token punctuation">,</span>
    <span class="token keyword">unique</span> <span class="token keyword">key</span><span class="token punctuation">(</span>字段名<span class="token number">1</span>，字段名<span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token comment">-- 和一中的表级约束语基本一直。</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>删除唯一约束</p></li></ol><ul><li>添加唯一性约束的列上也会自动创建唯一索引。</li><li>删除唯一约束只能通过删除唯一索引的方式删除。</li><li>删除时需要指定唯一索引名，唯一索引名就和唯一约束名一样。</li><li>如果创建唯一约束时未指定名称，如果是单列，就默认和列名相同；如果是组合列，那么默认和()中排在第一个的列名相同。也可以自定义唯一性约束名。</li></ul><p><strong>查看都有哪些约束</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span>table_constraints <span class="token keyword">WHERE</span> table_name <span class="token operator">=</span> <span class="token string">&#39;表名&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><strong>删除唯一约束</strong></p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 表名 <span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> 索引<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="主键约束-primary-key" tabindex="-1"><a class="header-anchor" href="#主键约束-primary-key" aria-hidden="true">#</a> 主键约束 (PRIMARY KEY )</h3><p>主键约束相当于<strong>唯一约束+非空约束的组合</strong>，主键约束列不允许重复，也不允许出现空值。</p><ul><li><p>一个表最多只能有一个主键约束，建立主键约束可以在列级别创建，也可以在表级别上创建。</p></li><li><p>主键约束对应着表中的一列或者多列（复合主键）</p></li><li><p>如果是多列组合的复合主键约束，那么这些列都不允许为空值，并且组合的值不允许重复。</p></li><li><p><strong>MySQL 的主键名总是 PRIMARY</strong>，就算自己命名了主键约束名也没用。</p></li><li><p>当创建主键约束时，系统默认会在所在的列或列组合上建立对应的<strong>主键索引</strong>（能够根据主键查询的，就根据主键查询，效率更高）。如果删除主键约束了，主键约束对应的索引就自动删除了。</p></li><li><p>需要注意的一点是，不要修改主键字段的值。因为主键是数据记录的唯一标识，如果修改了主键的值，就有可能会破坏数据的完整性。</p></li></ul><ol><li><p>建表时指定主键约束</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> 表名称<span class="token punctuation">(</span>
	字段名  数据类型  <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span> <span class="token comment">#列级模式</span>
    字段名  数据类型<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> 表名称<span class="token punctuation">(</span>
	字段名  数据类型<span class="token punctuation">,</span>
    字段名  数据类型<span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token keyword">constraint</span> 约束名<span class="token punctuation">]</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>字段名<span class="token punctuation">)</span> <span class="token comment">#表级模式</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> <span class="token keyword">temp</span><span class="token punctuation">(</span>
	id <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    name <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>修改时增加主键约束</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> 表名称<span class="token punctuation">(</span>
	字段名  数据类型<span class="token punctuation">,</span>
    字段名  数据类型<span class="token punctuation">,</span>
    字段名  数据类型<span class="token punctuation">,</span>
    <span class="token comment">-- 表示字段1和字段2的组合是唯一的，也可以有更多个字段</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>字段名<span class="token number">1</span><span class="token punctuation">,</span>字段名<span class="token number">2</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>和非空约束一直，只要组合起来不一样就行，区别的是任意一个字段不能为空</p></blockquote><p>例：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> student_course<span class="token punctuation">(</span>
	sid <span class="token keyword">int</span><span class="token punctuation">,</span>
    cid <span class="token keyword">int</span><span class="token punctuation">,</span>
    score <span class="token keyword">int</span><span class="token punctuation">,</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>sid<span class="token punctuation">,</span>cid<span class="token punctuation">)</span>  <span class="token comment">#复合主键</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>删除主键约束</p><p>删除主键约束，不需要指定主键名，因为一个表只有一个主键，删除主键约束后，非空还存在。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> 表名称 <span class="token keyword">drop</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><blockquote><p>开发中不可能出现几乎删除主键约束的情况</p></blockquote></li></ol><h3 id="自增列-auto-increment" tabindex="-1"><a class="header-anchor" href="#自增列-auto-increment" aria-hidden="true">#</a> 自增列 (AUTO_INCREMENT)</h3><p>某个字段的值自增</p><ul><li><p>一个表最多只能有一个自增长列</p></li><li><p>当需要产生唯一标识符或顺序值时，可设置自增长</p></li><li><p>自增长列约束的列必须是键列（主键列，唯一键列）</p></li><li><p>自增约束的列的数据类型必须是整数类型</p></li><li><p>如果自增列指定了 0 和 null，会在当前最大值的基础上自增；如果自增列手动指定了具体值，直接赋值为具体值。</p></li></ul><ol><li><p>创建表时设置自增列</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> 表名称<span class="token punctuation">(</span>
	字段名  数据类型  <span class="token keyword">primary</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
    字段名  数据类型<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> 表名称<span class="token punctuation">(</span>
    字段名  数据类型 <span class="token keyword">unique</span> <span class="token keyword">key</span> <span class="token keyword">auto_increment</span><span class="token punctuation">,</span>
    字段名  数据类型<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>修改表时添加自增列</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> 表名称 <span class="token keyword">modify</span> 字段名 数据类型 <span class="token keyword">auto_increment</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>删除自增约束</p><p>去掉 auto_increment 相当于删除</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> 表名称 <span class="token keyword">modify</span> 字段名 数据类型<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li><li><p>mysql5 和 mysql8 的一点区别</p><p>在 mysql5 中如果自增到 9，然后把 9 删了，再重启服务，那么在插入一条数据会是 9，而在 mysql8 中即使重启服务再插入一条数据也不会是 9，而是 10。原因是 MySQL 8.0 将自增主键的计数器持久化到<code>重做日志</code>中。每次计数器发生改变，都会将其写入重做日志中。如果数据库重启，InnoDB 会根据重做日志中的信息来初始化计数器的内存值。</p></li></ol><h3 id="外键约束-foreign-key" tabindex="-1"><a class="header-anchor" href="#外键约束-foreign-key" aria-hidden="true">#</a> 外键约束 (FOREIGN KEY)</h3><p>限定某个表的某个字段的引用完整性。</p><p>主表（父表）：被引用的表，被参考的表</p><p>从表（子表）：引用别人的表，参考别人的表</p><ol><li><p>特点</p><ul><li>从表的外键列，必须引用/参考主表的主键或唯一约束的列</li></ul><p>为什么？因为被依赖/被参考的值必须是唯一的</p><ul><li><p>在创建外键约束时，如果不给外键约束命名，<strong>默认名不是列名，而是自动产生一个外键名</strong>（例如 student_ibfk_1;），也可以指定外键约束名。</p></li><li><p>创建(CREATE)表时就指定外键约束的话，先创建主表，再创建从表</p></li><li><p>删表时，先删从表（或先删除外键约束），再删除主表</p></li><li><p>当主表的记录被从表参照时，主表的记录将不允许删除，如果要删除数据，需要先删除从表中依赖该记录的数据，然后才可以删除主表的数据</p></li><li><p>在“从表”中指定外键约束，并且一个表可以建立多个外键约束</p></li><li><p>从表的外键列与主表被参照的列名字可以不相同，但是数据类型必须一样，逻辑意义一致。如果类型不一样，创建子表时，就会出现错误“ERROR 1005 (HY000): Can&#39;t create table&#39;database.tablename&#39;(errno: 150)”。</p></li></ul><p>例如：都是表示部门编号，都是 int 类型。</p><ul><li><p><strong>当创建外键约束时，系统默认会在所在的列上建立对应的普通索引</strong>。但是索引名是外键的约束名。（根据外键查询效率很高）</p></li><li><p>删除外键约束后，必须<code>手动</code>删除对应的索引</p></li></ul></li><li><p>建表时创建约束</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> 主表名称<span class="token punctuation">(</span>
	字段<span class="token number">1</span>  数据类型  <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    字段<span class="token number">2</span>  数据类型
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> 从表名称<span class="token punctuation">(</span>
	字段<span class="token number">1</span>  数据类型  <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    字段<span class="token number">2</span>  数据类型<span class="token punctuation">,</span>
    <span class="token punctuation">[</span><span class="token keyword">CONSTRAINT</span> <span class="token operator">&lt;</span>外键约束名称<span class="token operator">&gt;</span><span class="token punctuation">]</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span>（从表的某个字段<span class="token punctuation">)</span> <span class="token keyword">references</span> 主表名<span class="token punctuation">(</span>被参考字段<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- (从表的某个字段)的数据类型必须与主表名(被参考字段)的数据类型一致，逻辑意义也一样</span>
<span class="token comment">-- (从表的某个字段)的字段名可以与主表名(被参考字段)的字段名一样，也可以不一样</span>

<span class="token comment">-- FOREIGN KEY: 在表级指定子表中的列</span>
<span class="token comment">-- REFERENCES: 标示在父表中的列</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>例：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> dept<span class="token punctuation">(</span> <span class="token comment">#主表</span>
	did <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>		<span class="token comment">#部门编号</span>
    dname <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span>			<span class="token comment">#部门名称</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">create</span> <span class="token keyword">table</span> emp<span class="token punctuation">(</span><span class="token comment">#从表</span>
	eid <span class="token keyword">int</span> <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>  <span class="token comment">#员工编号</span>
    ename <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span>     <span class="token comment">#员工姓名</span>
    deptid <span class="token keyword">int</span><span class="token punctuation">,</span>				<span class="token comment">#员工所在的部门</span>
    <span class="token keyword">foreign</span> <span class="token keyword">key</span> <span class="token punctuation">(</span>deptid<span class="token punctuation">)</span> <span class="token keyword">references</span> dept<span class="token punctuation">(</span>did<span class="token punctuation">)</span>   <span class="token comment">-- 在从表中指定外键约束</span>
    <span class="token comment">-- emp表的deptid和和dept表的did的数据类型一致，意义都是表示部门的编号</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>（1）主表 dept 必须先创建成功，然后才能创建 emp 表，指定外键成功。 （2）删除表时，先删除从表 emp，再删除主表 dept</p></blockquote></li><li><p>修改时增加约束</p><p>一般情况下，表与表的关联都是提前设计好了的，因此，会在创建表的时候就把外键约束定义好。不过，如果需要修改表的设计（比如添加新的字段，增加新的关联关系），但没有预先定义外键约束，那么，就要用修改表的方式来补充定义。</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 从表名 <span class="token keyword">ADD</span> <span class="token punctuation">[</span><span class="token keyword">CONSTRAINT</span> 约束名<span class="token punctuation">]</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span>从表的字段<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> 主表名<span class="token punctuation">(</span>被引用字段<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">on</span> <span class="token keyword">update</span> xx<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token keyword">on</span> <span class="token keyword">delete</span> xx<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>例：</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> emp1
<span class="token keyword">ADD</span> <span class="token punctuation">[</span><span class="token keyword">CONSTRAINT</span> emp_dept_id_fk<span class="token punctuation">]</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span><span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span> <span class="token keyword">REFERENCES</span> dept<span class="token punctuation">(</span>dept_id<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>增删改特点</p><ul><li>添加了外键约束后，主表的修改和删除数据受约束</li><li>添加了外键约束后，从表的添加和修改数据受约束</li><li>在从表上建立外键，要求主表必须存在</li><li>删除主表时，要求从表从表先删除，或将从表中外键引用该主表的关系先删除</li></ul></li><li><p>等级约束</p><ul><li><code>Cascade方式</code>：在父表上 update/delete 记录时，同步 update/delete 掉子表的匹配记录</li><li><code>Set null方式</code>：在父表上 update/delete 记录时，将子表上匹配记录的列设为 null，但是要注意子表的外键列不能为 not null</li><li><code>No action方式</code>：如果子表中有匹配的记录，则不允许对父表对应候选键进行 update/delete 操作</li><li><code>Restrict方式</code>：同 no action， 都是立即检查外键约束</li><li><code>Set default方式</code>（在可视化工具 SQLyog 中可能显示空白）：父表有变更时，子表将外键列设置成一个默认的值，但 Innodb 不能识别</li></ul><p>如果没有指定等级，就相当于 Restrict 方式。</p><p>对于外键约束，最好是采用: <code>ON UPDATE CASCADE ON DELETE RESTRICT</code> 的方式。</p></li><li><p>删除外键约束</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>第一步先查看约束名和删除外键约束
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> information_schema<span class="token punctuation">.</span>table_constraints <span class="token keyword">WHERE</span> table_name <span class="token operator">=</span> <span class="token string">&#39;表名称&#39;</span><span class="token punctuation">;</span><span class="token comment">#查看某个表的约束名</span>

<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 从表名 <span class="token keyword">DROP</span> <span class="token keyword">FOREIGN</span> <span class="token keyword">KEY</span> 外键约束名<span class="token punctuation">;</span>

（<span class="token number">2</span>）第二步查看索引名和删除索引。（注意，只能手动删除）
<span class="token keyword">SHOW</span> <span class="token keyword">INDEX</span> <span class="token keyword">FROM</span> 表名称<span class="token punctuation">;</span> <span class="token comment">#查看某个表的索引名</span>

<span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> 从表名 <span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> 索引名<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>总结</p><ul><li>建和不建外键约束的区别，建外键约束，你的操作（创建表、删除表、添加、修改、删除）会受到限制，从语法层面受到限制。例如：在员工表中不可能添加一个员工信息，它的部门的值在部门表中找不到。不建外键约束，你的操作（创建表、删除表、添加、修改、删除）不受限制，要保证数据的<code>引用完整性</code>，只能依<code>靠程序员的自觉</code>，或者是<code>在java程序中进行限定</code>。</li><li>那么建和不建外键约束和查询没有关系，在 MySQL 里，外键约束是有成本的，需要消耗系统资源。对于大并发的 SQL 操作，有可能会不适合。比如大型网站的中央数据库，可能会<code>因为外键约束的系统开销而变得非常慢</code>。所以， MySQL 允许你不使用系统自带的外键约束，在<code>应用层面</code>完成检查数据一致性的逻辑。也就是说，即使你不用外键约束，也要想办法通过应用层面的附加逻辑，来实现外键约束的功能，确保数据的一致性。</li></ul></li></ol><h3 id="检查约束-check" tabindex="-1"><a class="header-anchor" href="#检查约束-check" aria-hidden="true">#</a> 检查约束 (check)</h3><p>MySQL5.7 可以使用 check 约束，但 check 约束对数据验证没有任何作用。添加数据时，没有任何错误或警告</p><p><strong>MySQL 8.0 中可以使用 check 约束了</strong></p><h3 id="默认值约束-default" tabindex="-1"><a class="header-anchor" href="#默认值约束-default" aria-hidden="true">#</a> 默认值约束 (default)</h3><p>给某个字段/某列指定默认值，一旦设置默认值，在插入数据时，如果此字段没有显式赋值，则赋值为默认值。</p><ol><li><p>创建时添加约束</p><p>默认值约束一般不在唯一键和主键列上加</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> 表名称<span class="token punctuation">(</span>
	字段名  数据类型  <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    字段名  数据类型  <span class="token keyword">unique</span> <span class="token keyword">key</span> <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">,</span>
    字段名  数据类型  <span class="token keyword">unique</span> <span class="token keyword">key</span><span class="token punctuation">,</span>
    字段名  数据类型  <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> 默认值<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">create</span> <span class="token keyword">table</span> 表名称<span class="token punctuation">(</span>
	字段名  数据类型 <span class="token keyword">default</span> 默认值 <span class="token punctuation">,</span>
    字段名  数据类型 <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> 默认值<span class="token punctuation">,</span>
    字段名  数据类型 <span class="token operator">not</span> <span class="token boolean">null</span> <span class="token keyword">default</span> 默认值<span class="token punctuation">,</span>
    <span class="token keyword">primary</span> <span class="token keyword">key</span><span class="token punctuation">(</span>字段名<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">unique</span> <span class="token keyword">key</span><span class="token punctuation">(</span>字段名<span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>修改表时添加</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token keyword">alter</span> <span class="token keyword">table</span> 表名称 <span class="token keyword">modify</span> 字段名 数据类型 <span class="token keyword">default</span> 默认值<span class="token punctuation">;</span>

<span class="token comment">-- 如果这个字段原来有非空约束，你还保留非空约束，那么在加默认值约束时，还得保留非空约束，否则非空约束就被删除了</span>
<span class="token comment">-- 同理，在给某个字段加非空约束也一样，如果这个字段原来有默认值约束，你想保留，也要在modify语句中保留默认值约束，否则就删除了</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> 表名称 <span class="token keyword">modify</span> 字段名 数据类型 <span class="token keyword">default</span> 默认值 <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>删除默认值约束</p><div class="language-sql line-numbers-mode" data-ext="sql"><pre class="language-sql"><code><span class="token comment"># 删除默认值约束，也不保留非空约束</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> 表名称 <span class="token keyword">modify</span> 字段名 数据类型 <span class="token punctuation">;</span>

<span class="token comment"># 删除默认值约束，保留非空约束</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> 表名称 <span class="token keyword">modify</span> 字段名 数据类型  <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>

<span class="token comment">#删除gender字段默认值约束，如果有非空约束，也一并删除</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> employee <span class="token keyword">modify</span> gender <span class="token keyword">char</span><span class="token punctuation">;</span>

<span class="token comment">#删除tel字段默认值约束，保留非空约束</span>
<span class="token keyword">alter</span> <span class="token keyword">table</span> employee <span class="token keyword">modify</span> tel <span class="token keyword">char</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>  <span class="token operator">not</span> <span class="token boolean">null</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>注意</p><p>建表时，最好加 not null default &#39;&#39; 或 default 0，不想让表中出现 null 值，因为 null 是一种特殊值，比较时只能用专门的 is null 和 is not null 来比较。碰到运算符，通常返回 null，效率不高。影响提高索引效果。因此，我们往往在建表时 not null default &#39;&#39; 或 default 0。</p></li></ol></div><!--[--><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">Last Updated: </span><!----></div><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!----><!--]--></div>
    <script type="module" src="/lin-note/assets/app-70f1c539.js" defer></script>
  </body>
</html>
